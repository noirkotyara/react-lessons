{"version":3,"sources":["components/common/Preloader/Preloader.module.css","redux/profile-reducer.ts","api/api.ts","components/hoc/hoc.tsx","assets/images/kuscherenko.jpg","assets/images/lyubov.jpg","components/Dialogs/Message/Message.module.css","components/common/Preloader/preloader.svg","assets/startPage/logo2.jpg","components/Login/Login.module.css","components/Navbar/Navbar.module.css","components/Users/User/User.module.css","serviceWorker.js","redux/authMe.ts","redux/messages-reducer.ts","redux/sideBar-reducer.ts","redux/users-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Form/SendMessageRedux.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","components/Navbar/Friends/Friends.tsx","components/Navbar/Navbar.tsx","components/Navbar/NavbarContainer.tsx","components/Users/User/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/common/Pagination/Pagination.tsx","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","components/Login/Login.tsx","App.tsx","index.tsx","components/common/Validators/Validators.tsx","components/Header/Header.module.css","components/common/InputChecker/InputChecker.tsx","components/Dialogs/Dialogs.module.css","components/Users/Users.module.css","components/common/InputChecker/InputChecker.module.css","components/common/Preloader/Preloader.jsx","assets/images/zorro.jpg","components/Dialogs/Dialog/Dialog.module.css","components/Navbar/Friends/Friends.module.css","components/common/Pagination/Pagination.module.css"],"names":["module","exports","SETPROF","POSTF","initialState","postsData","id","message","likes","profile","status","actions","setProfile","type","updateStatusAC","postForm","content","uploadPhoto","image","setProfileThunk","userID","dispatch","a","userProfile","showProfile","data","setStatusThunk","updateStatus","resultCode","ResultCodeType","Success","getStatusThunk","getStatus","uploadPhotoThunk","photos","updateProfileThunk","getState","updateProfile","authMe","messages","length","stopSubmit","_error","Promise","reject","profileReducer","state","action","newPost","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","changeCurPage","page","unFollowDeleteRequest","delete","followPostRequest","post","authAPI","isAuthMe","isLogin","email","login","password","rememberMe","checkbox","captcha","symbols","isLogout","put","file","formData","FormData","append","securityAPI","getCaptchaURL","withAuthMe","Component","this","props","restProps","to","React","Boolean","window","location","hostname","match","IS_AUTH_ME","CAPTCHA","authMeSuccessThunk","setUserData","setAuthMe","getCaptchaThunk","setCaptcha","url","messagesData","dialogsUsersData","name","ava","zorroAva","lyubovAva","kuscherenkoAva","idNum","sendMessage","newMessageText","messagesReducer","friendsList","sideBarReducer","FOLLOW","UNFOLLOW","DATA","CURPAGE","usersData","totalCount","isFetching","followingInProgress","followingTF","userId","usersReducer","map","u","followed","state02","push","filter","SET_INIT","initialized","appInitialization","require","createStore","combineReducers","applyMiddleware","store","profilePage","messagesPage","sideBar","usersPage","appInit","form","formReducer","composeWithDevTools","thunkMiddleware","ActionLink","href","onClick","console","log","News","Music","Settings","Dialog","path","className","cl","dialog","avatar","src","alt","activeClassName","active","SendMessageRedux","reduxForm","onSubmit","handleSubmit","Field","validate","required","maxLength10","component","InputComp","maxLengthC","Message","Dialogs","dialogsGenerate","d","key","messagesGenerate","m","dialogs","dialogsItems","reset","DialogsContainer","compose","connect","DialogsContainerHOC","Friends","friend","Navbar","friendsListComp","fff","nav","item","friendsNav","NavbarContainer","User","userItem","user","small","avaDefault","country","off","on","stars","lastMessage","disabled","some","doUnfollow","statusFollow","doFollow","Users","usersItem","usersGenerate","getUsersPage","getUsersData","createSelector","getCurrentPage","getTotalCount","getPageSize","getIsFetching","getFollowingInProgress","Pagination","pagesQuantity","Math","ceil","pA","i","useState","currentPortion","setCurrentPortion","portionNumber","leftBorder","rightBorder","cn","pages","pageSelected","UsersContainerClass","setCurPage","setUsers","title","userPage","preloader","Preloader","pagination","items","Header","header","loginPhrase","logout","userLogin","logIn","logo","HeaderContainer","dataR","maxLength30","placeholder","error","checker","commonError","LoginFormContainer","catchError","starter","ProfileContainer","lazy","App","catchAllUnhandledErrors","e","alert","PostsComp","fallback","DialogsMessagesComp","UsersComp","UsersContainer","LoginFormContainerCom","setInitialize","addEventListener","removeEventListener","render","NoMatch","useLocation","pathname","AppMain","withRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","value","undefined","maxLen","input","meta","visited","messageError","divPreloader"],"mappings":"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","file":"static/js/main.003e7bc4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__UMRl1\",\"divPreloader\":\"Preloader_divPreloader__3iYxB\"};","import { FormAction, stopSubmit } from \"redux-form\";\r\nimport { ResultCodeType, userProfile } from \"../api/api\";\r\nimport { ProfileType } from \"../types/types\";\r\nimport { BasicThunkType, InferActionsType } from \"./redux-store\";\r\n\r\nconst SETPROF = 'SN/PROFILE/SET-PROFILE';\r\nconst UPDATESTATUS = 'SN/PROFILE/SET-STATUS';\r\nconst POSTF = 'SN/PROFILE/POST-FORM-newPostText';\r\nconst UPLOAD_PHOTO = 'SN/PROFILE/UPLOAD-PHOTO';\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, message: 'Hello', likes: 15 },\r\n        { id: 2, message: 'Bonjour', likes: 30 },\r\n        { id: 3, message: 'Привет', likes: 15000 },\r\n    ] as Array<PostsDataType>,\r\n    // newPostText: '',\r\n    profile: null as object | null,\r\n    status: 'no status' \r\n};\r\n\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case POSTF:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.content,\r\n                likes: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        case SETPROF:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case UPLOAD_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.image }\r\n            }\r\n        case UPDATESTATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const actions = {\r\n    setProfile: (profile: ProfileType) => ({ type: SETPROF, profile } as const),\r\n    updateStatusAC: (status: string) => ({ type: UPDATESTATUS, status } as const),\r\n    postForm: (content: string) => ({ type: POSTF, content } as const),\r\n    uploadPhoto: (image: string) => ({ type: UPLOAD_PHOTO, image } as const)\r\n}\r\n\r\nexport const setProfileThunk = (userID: number): ThunkType => async (dispatch) => {\r\n    let data = await userProfile.showProfile(userID);\r\n    dispatch(actions.setProfile(data));\r\n}\r\n\r\nexport const setStatusThunk = (status: string): ThunkType => async (dispatch) => {\r\n    //обработка ошибок\r\n    // try\r\n    // {\r\n        let data = await userProfile.updateStatus(status);\r\n    (data.resultCode === ResultCodeType.Success) &&\r\n        dispatch(actions.updateStatusAC(status))\r\n    // }\r\n    // catch(error)\r\n    // {\r\n    //     alert(error)\r\n    // }\r\n    \r\n\r\n}\r\nexport const getStatusThunk = (userID: number): ThunkType => async (dispatch) => {\r\n    let data = await userProfile.getStatus(userID)\r\n    dispatch(actions.updateStatusAC(data));\r\n}\r\n\r\nexport const uploadPhotoThunk = (image: File): ThunkType => async (dispatch) => {\r\n    let data = await userProfile.uploadPhoto(image);\r\n    (data.resultCode === ResultCodeType.Success) &&\r\n        dispatch(actions.uploadPhoto(data.data.photos));\r\n}\r\n\r\nexport const updateProfileThunk = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    let data = await userProfile.updateProfile(profile);\r\n    if (data.resultCode === 0) dispatch(setProfileThunk(getState().authMe.id))\r\n    else {\r\n        if (data.messages.length > 0) {\r\n            dispatch(stopSubmit('editProfile', { _error: data.messages }))\r\n            return Promise.reject(data.messages)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default profileReducer;\r\n\r\n//types \r\nexport type PostsDataType = {\r\n    id?: number\r\n    message: string\r\n    likes: number\r\n}\r\n\r\ntype ThunkType = BasicThunkType<ActionsType | FormAction>\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsType<typeof actions>","import { ProfileType, UsersDataType } from './../types/types';\r\nimport axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"30bffa88-490b-405c-83b6-e6b58d235873\"\r\n    }\r\n});\r\n\r\ntype UsersAPIResponseType = {\r\n    items: Array<UsersDataType>\r\n    totalCount: number\r\n    error: null | string\r\n}\r\n\r\nexport type FollowUnfollowResponseType = {\r\n    data: {}\r\n    resultCode: ResultCodeType\r\n    messages: [] | string\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<UsersAPIResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    changeCurPage(page: number, pageSize: number) {\r\n        return instance.get<UsersAPIResponseType>(`users?page=${page}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    unFollowDeleteRequest(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data) as Promise<FollowUnfollowResponseType>\r\n    },\r\n    followPostRequest(id: number) {\r\n        return instance.post<FollowUnfollowResponseType>(`follow/${id}`)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport type DataIsAuthMeType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\nexport type DataIsLoginType = {\r\n    userId: number\r\n}\r\n\r\nexport enum ResultCodeType {\r\n    Success = 0,\r\n    Error = 10\r\n}\r\n\r\nexport type AuthAPIResponseType<dataType, ResultCodeType> = {\r\n    data: dataType\r\n    resultCode: ResultCodeType\r\n    messages: [] | string\r\n}\r\ntype dataIsLoginType = {\r\n    checkbox: boolean\r\n    symbols: string\r\n    password: string\r\n    login: string\r\n}\r\n\r\nexport const authAPI = {\r\n    isAuthMe() {\r\n        return instance.get<AuthAPIResponseType<DataIsAuthMeType, ResultCodeType>>(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    isLogin(data: dataIsLoginType) {\r\n        return instance.post<AuthAPIResponseType<DataIsLoginType, ResultCodeType>>\r\n            (`auth/login`, {\r\n                email: data.login,\r\n                password: data.password,\r\n                rememberMe: data.checkbox,\r\n                captcha: data.symbols\r\n            })\r\n            .then(response => { return response.data })\r\n    },\r\n    isLogout() {\r\n        return instance.delete<AuthAPIResponseType<DataIsAuthMeType, ResultCodeType>>(`auth/login`)\r\n            .then(response => { return response.data })\r\n    }\r\n}\r\n\r\n\r\nexport const userProfile = {\r\n    showProfile(userID: number) {\r\n        return instance.get<ProfileType>(`profile/${userID}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<AuthAPIResponseType<{}, ResultCodeType>>(`/profile/status`, { status: status })\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userID: number) {\r\n        return instance.get<string>(`/profile/status/${userID}`)\r\n            .then(response => response.data)\r\n\r\n    },\r\n    uploadPhoto(file: File) {\r\n        let formData = new FormData();\r\n        formData.append('image', file);\r\n        return instance.put<AuthAPIResponseType<{photos: string}, ResultCodeType>>(`/profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(response => response.data)\r\n    },\r\n    updateProfile(profile: ProfileType ) {\r\n        return instance.put<AuthAPIResponseType<{}, ResultCodeType>>(`/profile`, profile)\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get<{url: string}>(`/security/get-captcha-url`)\r\n            .then(response => response.data);\r\n    }\r\n}","import React, { Suspense } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { initialStateType } from '../../redux/authMe';\r\n\r\n\r\nexport let withAuthMe = <P extends object>(Component: React.ComponentType<P>) => {\r\n    return class WrappedContainer extends React.Component<P & initialStateType> {\r\n        render() {\r\n            let {isAuthMe, ...restProps} = this.props;\r\n            if (this.props.isAuthMe) return <Component {...restProps as P} />\r\n            else return <Redirect to='/login'></Redirect>\r\n        }\r\n    }\r\n}\r\n\r\nexport function withSuspense <WCP>(Component: React.ComponentType<WCP>){\r\n    return  (props: WCP) => {\r\n    return (<Suspense fallback={<h1>Still Loading…</h1>}>\r\n        <Component {...props} />\r\n    </Suspense>\r\n    )\r\n\r\n}} ","module.exports = __webpack_public_path__ + \"static/media/kuscherenko.7bc7e317.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lyubov.fc2a1a49.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__xSb92\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.c04e3ad7.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo2.623bb4d9.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starter\":\"Login_starter__1tZcA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__kBj7q\",\"item\":\"Navbar_item__3Pa_F\",\"active\":\"Navbar_active__28OkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"User_userItem__4zQnk\",\"avatar\":\"User_avatar__39gSA\",\"lastMessage\":\"User_lastMessage__1hlgj\",\"name\":\"User_name__2R3Cl\",\"off\":\"User_off__XjvUl\",\"on\":\"User_on__1XQfw\",\"country\":\"User_country__2T7Tr\",\"stars\":\"User_stars__3aZm4\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { ResultCodeType } from './../api/api';\r\nimport { FormAction, stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI } from \"../api/api\";\r\nimport { BasicThunkType, InferActionsType } from \"./redux-store\";\r\n\r\nconst SET_USER_DATA = 'SN/AUTHME/SET-USER-DATA';\r\nconst IS_AUTH_ME = 'SN/AUTHME/IS-AUTH-ME';\r\nconst CAPTCHA = 'SN/AUTHME/CAPTCHA-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    id: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuthMe: false as boolean | undefined,\r\n    checkbox: false,\r\n    captcha: null as string | null\r\n};\r\n\r\n\r\nconst authMe = (state = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        case IS_AUTH_ME:\r\n            return {\r\n                ...state,\r\n                isAuthMe: action.isAuthMe\r\n            }\r\n        case CAPTCHA: {\r\n            return {\r\n                ...state,\r\n                captcha: action.captcha\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const authMeSuccessThunk = (): ThunkType => async dispatch => {\r\n    let data = await authAPI.isAuthMe()\r\n    dispatch(actions.setUserData({ ...data.data }));\r\n    (data.resultCode === ResultCodeType.Success) && dispatch(actions.setAuthMe(true));\r\n}\r\n\r\n\r\nexport const putLoginPasswordThunk = (data: DataIsLoginType): ThunkType => async dispatch => {\r\n    let dataR = await authAPI.isLogin(data);\r\n    if (dataR.resultCode === 0) dispatch(authMeSuccessThunk());\r\n    else {\r\n        if (dataR.resultCode === 10) { dispatch(getCaptchaThunk()) }\r\n        let catchError = dataR.messages.length > 0 ? dataR.messages[0] : 'Some errors';\r\n        dispatch(stopSubmit('login', { _error: catchError }));\r\n    }\r\n\r\n}\r\nexport const logoutThunk = (): ThunkType => async (dispatch) => {\r\n    let dataR = await authAPI.isLogout();\r\n    (dataR.resultCode === 0) &&\r\n        dispatch(actions.setAuthMe(false));\r\n    dispatch(actions.setUserData({ ...dataR.data }));\r\n}\r\nconst getCaptchaThunk = (): ThunkType => async (dispatch) => {\r\n    let data = await securityAPI.getCaptchaURL();\r\n    dispatch(actions.setCaptcha(data.url))\r\n}\r\n\r\n\r\nexport default authMe;\r\n\r\n//types\r\ntype DataType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n    isAuthMe?: boolean | undefined\r\n    captcha?: string | null\r\n}\r\ntype ActionsType = InferActionsType<typeof actions>\r\nexport type initialStateType = typeof initialState;\r\nexport const actions = {\r\n    setUserData: ({ id, login, email, isAuthMe, captcha = null }: DataType) => ({ type: SET_USER_DATA, data: { id, login, email, isAuthMe, captcha } } as const),\r\n    setAuthMe: (isAuthMe: boolean) => ({ type: IS_AUTH_ME, isAuthMe } as const),\r\n    setCaptcha: (captcha: string) => ({ type: CAPTCHA, captcha } as const)\r\n\r\n}\r\nexport type DataIsLoginType = {\r\n    checkbox: boolean\r\n    symbols: string\r\n    password: string\r\n    login: string\r\n}\r\ntype ThunkType = BasicThunkType<ActionsType | FormAction>\r\n\r\n","import zorroAva from './../assets/images/zorro.jpg';\r\nimport kuscherenkoAva from './../assets/images/kuscherenko.jpg';\r\nimport lyubovAva from './../assets/images/lyubov.jpg';\r\nimport { InferActionsType } from './redux-store';\r\n\r\nconst ADDMESSAGESTATE = 'SN/MESSAGES/ADD-MESSAGE-STATE';\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        { id: 1, message: 'злтщототолиолиг' },\r\n        { id: 2, message: 'Hello' },\r\n        { id: 3, message: 'Privet' },\r\n        { id: 4, message: 'Au revoir' }\r\n    ] as Array<MessagesDataType>,\r\n    dialogsUsersData: [\r\n        { id: 1, name: 'Zorro', ava: zorroAva },\r\n        { id: 2, name: 'Lyubov', ava: lyubovAva },\r\n        { id: 3, name: 'Kuscherenko', ava: kuscherenkoAva }\r\n    ] as Array<DialogsUsersDataType>\r\n};\r\n\r\nlet idNum = 5;\r\nlet messagesReducer = (state = initialState, action: ActionsType):initialStateType => {\r\n    switch (action.type) {\r\n        case ADDMESSAGESTATE:\r\n            idNum++;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {\r\n                    id: idNum,\r\n                    message: action.newMessageText\r\n                }]\r\n    }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const actions = {\r\n    sendMessage: (newMessageText: string) => ({ type: ADDMESSAGESTATE, newMessageText })\r\n}\r\n\r\nexport default messagesReducer;\r\n\r\n//types\r\nexport type MessagesDataType = {\r\n    id?: number\r\n    message: string\r\n};\r\nexport type DialogsUsersDataType = {\r\n    id: number\r\n    name: string\r\n    ava: string\r\n}\r\nexport type initialStateType = typeof initialState\r\n\r\ntype ActionsType = InferActionsType<typeof actions>\r\n","\r\nlet initialState = {\r\n    friendsList: [\r\n        { id: 1, name: 'Zorro' },\r\n        { id: 2, name: 'Lyubov' },\r\n        { id: 3, name: 'Kuscherenko' }\r\n    ] as Array<FriendsList>\r\n};\r\n\r\n\r\nconst sideBarReducer = (state = initialState, action: any):initialStateType => {\r\n    return state;\r\n}\r\nexport default sideBarReducer;\r\n\r\n//types\r\nexport type FriendsList = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type initialStateType = typeof initialState","import { UsersDataType } from './../types/types';\r\nimport { usersAPI } from \"../api/api\";\r\nimport { BasicThunkType, InferActionsType } from './redux-store';\r\n\r\nconst FOLLOW = 'SN/USERS/FOLLOW';\r\nconst UNFOLLOW = 'SN/USERS/UNFOLLOW';\r\nconst DATA = 'SN/USERS/SETUSERS';\r\nconst CURPAGE = 'SN/USERS/CURPAGE';\r\nconst TOTALCOUNT = 'SN/USERS/TOTALCOUNT';\r\nconst TOGGLE_IS_FETCHING = 'SN/USERS/TOGGLEIF';\r\nconst FOL_IS_FETCHING = 'SN/USERS/FOLISFETCH';\r\n\r\n\r\nlet initialState = {\r\n    usersData: [] as Array<UsersDataType>,\r\n    currentPage: 1,\r\n    pageSize: 90,\r\n    totalCount: 10,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>\r\n};\r\n\r\nconst usersReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: state.usersData.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: state.usersData.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case DATA:\r\n            return {\r\n                ...state,\r\n                usersData: [...action.usersData]\r\n            };\r\n        case CURPAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case TOTALCOUNT:\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case FOL_IS_FETCHING:\r\n\r\n            let state02 = {\r\n                ...state,\r\n                followingInProgress: [...state.followingInProgress]\r\n            };\r\n\r\n            action.followingTF ?\r\n                state02.followingInProgress.push(action.userId) :\r\n                state02.followingInProgress = state02.followingInProgress.filter(userId => userId !== action.userId);\r\n\r\n            return state02;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    doUnfollow: (id: number) => ({ type: UNFOLLOW, id } as const),\r\n    doFollow: (id: number) => ({ type: FOLLOW, id } as const),\r\n    setUsers: (usersData: Array< UsersDataType >) => ({ type: DATA, usersData } as const),\r\n    setCurPage: (currentPage: number) => ({ type: CURPAGE, currentPage } as const),\r\n    setTotalCount: (totalCount: number) => ({ type: TOTALCOUNT, totalCount } as const),\r\n    toggleFetching: (isFetching: boolean) => ({ type: TOGGLE_IS_FETCHING, isFetching } as const),\r\n    toggleFollowing: (followingTF: boolean, userId: number) => ({ type: FOL_IS_FETCHING, followingTF, userId } as const)\r\n}\r\n\r\n\r\nexport const setUsersThunk = (currentPage: number, pageSize: number): ThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(actions.toggleFetching(false));\r\n    dispatch(actions.setUsers(data.items));\r\n    dispatch(actions.setTotalCount(data.totalCount));\r\n}\r\nexport const changeCurPageThunk = (page: number, pageSize: number): ThunkType => async (dispatch) => {\r\n    dispatch(actions.setCurPage(page));\r\n    dispatch(actions.toggleFetching(true));\r\n    let data = await usersAPI.changeCurPage(page, pageSize)\r\n    dispatch(actions.toggleFetching(false));\r\n    dispatch(actions.setUsers(data.items));\r\n}\r\n\r\nexport const unFollowThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleFollowing(true, userId));\r\n    let data = await usersAPI.unFollowDeleteRequest(userId);\r\n    data.resultCode === 0 && dispatch(actions.doUnfollow(userId));\r\n    dispatch(actions.toggleFollowing(false, userId));\r\n}\r\n\r\nexport const followThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleFollowing(true, userId));\r\n    let data = await usersAPI.followPostRequest(userId);\r\n    data.resultCode === 0 && dispatch(actions.doFollow(userId));\r\n    dispatch(actions.toggleFollowing(false, userId));\r\n}\r\nexport default usersReducer;\r\n\r\n//types\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype ThunkType = BasicThunkType<ActionsType>","import { authMeSuccessThunk } from \"./authMe\";\r\nimport { BasicThunkType, InferActionsType } from \"./redux-store\";\r\n\r\nconst SET_INIT = 'SN/APP/SET-INITIALIZE';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nlet appInitialization = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_INIT:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setInitialize: () => ({ type: SET_INIT } as const)\r\n}\r\n\r\nexport const setInitializeThunk = (): ThunkType => async dispatch => {\r\n    await dispatch(authMeSuccessThunk());\r\n    dispatch(actions.setInitialize());\r\n}\r\n\r\n\r\nexport default appInitialization;\r\n\r\n//types\r\nexport type InitialStateType = typeof initialState\r\ntype ThunkType = BasicThunkType<ActionsType>\r\ntype ActionsType = InferActionsType<typeof actions>","import authMe from \"./authMe\";\r\nimport messagesReducer from \"./messages-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sideBarReducer from \"./sideBar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appInitialization from \"./app-reducer\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { Action } from \"redux\";\r\n\r\n\r\nconst { createStore, combineReducers, applyMiddleware } = require(\"redux\");\r\n\r\nlet rootReducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    authMe: authMe,\r\n    appInit: appInitialization,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(rootReducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n//@ts-ignore\r\nwindow.store = store;\r\nexport default store;\r\n\r\ntype InferValueType<T> = T extends {[key:string]: infer U}? U : never\r\nexport type InferActionsType<T extends {[key:string]: (...args: any) => any}> = ReturnType<InferValueType<T>>\r\nexport type BasicThunkType<A extends Action,R = Promise<void> > = ThunkAction<R, AppStateType, unknown, A>\r\nexport type AppStateType = ReturnType<typeof rootReducers>\r\n\r\nexport type BasicComponentType = React.ComponentType<{store: AppStateType}>\r\n","import React from 'react';\r\nimport cl from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n          <ActionLink/>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ActionLink() {\r\n  function handleClick() {\r\n    // e.preventDefault();\r\n    console.log('По ссылке кликнули.');\r\n  }\r\n\r\n  return (\r\n    <a href=\"#\" onClick={handleClick}>\r\n      Нажми на меня\r\n    </a>\r\n  );\r\n}\r\n\r\n\r\nexport default News;","import React from 'react';\r\nimport cl from './Music.module.css';\r\n\r\nconst Music = () =>{\r\n    return(\r\n        <div>\r\n             Music\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport cl from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { DialogsUsersDataType } from '../../../redux/messages-reducer';\r\nimport cl from './Dialog.module.css';\r\n\r\n\r\nconst Dialog = (props: DialogsUsersDataType) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n        <div className={cl.dialog}>\r\n            <span> <img className={cl.avatar} src={props.ava} alt='ava' /> </span>\r\n            <NavLink to={path} activeClassName={cl.active}>  {props.name} </NavLink></div>);\r\n}\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport { InputComp } from '../../common/InputChecker/InputChecker';\r\nimport { maxLengthC, required } from '../../common/Validators/Validators';\r\nimport { Field,  InjectedFormProps,  reduxForm } from 'redux-form';\r\nimport cl from './../Dialogs.module.css';\r\n\r\nexport type SendMessageType = {\r\n    newMessageText: string\r\n}\r\n\r\nlet SendMessage: React.FC<InjectedFormProps<SendMessageType>> = (props) => {\r\n    return <>\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field name='newMessageText' type=\"text\" validate={[required, maxLength10]} component={InputComp} />\r\n            <button type=\"submit\" className={cl.sendMessage}>send</button>\r\n        </form>\r\n    </>;\r\n}\r\n\r\nexport const SendMessageRedux = reduxForm<SendMessageType>({ form: 'sendMessage' })(SendMessage);\r\n\r\nlet maxLength10 = maxLengthC(10);","import React from 'react';\r\nimport { MessagesDataType } from '../../../redux/messages-reducer';\r\nimport cl from './Message.module.css';\r\n\r\n\r\n\r\nconst Message = (props: MessagesDataType) => {\r\n    return (<div className={cl.message}>{props.message}</div>);\r\n}\r\n\r\n\r\nexport default Message;","import React, { Dispatch } from 'react';\r\nimport { FormAction, InjectedFormProps, reset } from 'redux-form';\r\nimport Dialog from './Dialog/Dialog';\r\nimport cl from './Dialogs.module.css';\r\nimport { PropsType } from './DialogsContainer';\r\nimport { SendMessageRedux, SendMessageType } from './Form/SendMessageRedux';\r\nimport Message from './Message/Message';\r\n\r\nconst Dialogs: React.FC<InjectedFormProps<SendMessageType, PropsType> & PropsType> = (props) => {\r\n\r\n    let onSubmit = (formData: {newMessageText: string}, dispatch: Dispatch<FormAction> )=> {\r\n        props.sendMessage(formData.newMessageText)\r\n        dispatch(reset('sendMessage'))\r\n    }\r\n\r\n    let dialogsGenerate = props.dialogsGenerate.map(d => <Dialog key={d.id} name={d.name} id={d.id} ava={d.ava} />);\r\n    let messagesGenerate = props.messagesGenerate.map(m => <Message key={m.id} message={m.message} />);\r\n\r\n    return (\r\n        <div className={cl.dialogs}>\r\n            <div className={cl.dialogsItems}>\r\n                {dialogsGenerate}\r\n            </div>\r\n            <div className={cl.messages}>\r\n                {messagesGenerate}\r\n            </div>\r\n            <SendMessageRedux onSubmit={onSubmit} />\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\nexport default Dialogs;\r\n","import { connect } from 'react-redux';\r\nimport { actions } from '../../redux/messages-reducer';\r\nimport { AppStateType, BasicComponentType } from '../../redux/redux-store';\r\nimport DialogsContainerHOC from './Dialogs';\r\nimport { DialogsUsersDataType, MessagesDataType } from '../../redux/messages-reducer';\r\nimport { withAuthMe } from '../hoc/hoc';\r\nimport { compose } from 'redux';\r\n\r\nexport type MapStateToPropsType = {\r\n    dialogsGenerate: Array<DialogsUsersDataType>\r\n    messagesGenerate: Array<MessagesDataType>\r\n    isAuthMe: boolean\r\n}\r\nexport type MapDispatchToPropsType = {\r\n    sendMessage: (text: string) => void\r\n}\r\n\r\n\r\nexport type PropsType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        dialogsGenerate: state.messagesPage.dialogsUsersData,\r\n        messagesGenerate: state.messagesPage.messagesData,\r\n        isAuthMe: state.authMe.isAuthMe\r\n    }\r\n}\r\n// authMeSuccess: authMeSuccessThunk\r\n// withAuthMe\r\nconst DialogsContainer = compose<BasicComponentType>(\r\n    connect<MapStateToPropsType,\r\n        MapDispatchToPropsType,\r\n        {}, AppStateType>\r\n        (mapStateToProps, { sendMessage: actions.sendMessage }),\r\n    withAuthMe)\r\n    (DialogsContainerHOC);\r\n\r\n\r\nexport default DialogsContainer;","import React from 'react';\r\nimport { FriendsList, initialStateType } from '../../../redux/sideBar-reducer';\r\nimport cl from './Friends.module.css';\r\n\r\nconst Friends: React.FC<FriendsList> = (props) => {\r\n\r\n    return (\r\n        <div className={cl.friend}>\r\n            <div className={cl.avatar}></div>\r\n            <div className={cl.name}>{props.name}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friends;\r\n\r\n/* <img src={props.avatar} className={cl.avatar} alt='avatar'></img> */ ","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { initialStateType } from '../../redux/sideBar-reducer';\r\nimport Friends from './Friends/Friends';\r\nimport cl from './Navbar.module.css';\r\n\r\nconst Navbar = (props: initialStateType) => {\r\n  \r\n    let friendsListComp = props.friendsList.map (  fff => <Friends key={fff.id} id={fff.id} name={fff.name}/>);\r\n    return (\r\n        <nav className={cl.nav}>\r\n            <div className={cl.item}><NavLink to='/profile' activeClassName={cl.active}>\r\n                Profile</NavLink></div>\r\n            <div className={cl.item}><NavLink to='/dialogs' activeClassName={cl.active}>\r\n                Messages</NavLink></div>\r\n            <div className={cl.item}><NavLink to='/news' activeClassName={cl.active}>\r\n                News</NavLink></div>\r\n            <div className={cl.item}><NavLink to='/music' activeClassName={cl.active}>\r\n                Music</NavLink></div>\r\n            <div className={cl.item}><NavLink to='/settings' activeClassName={cl.active}>\r\n                Settings</NavLink></div>\r\n            <div className={cl.item}> <NavLink to='/users' activeClassName={cl.active}>\r\n                Users</NavLink></div>\r\n\r\n\r\n            <div className={cl.friendsList}> <h3 className={cl.friendsNav}>FRIENDS</h3> {friendsListComp} </div>\r\n            \r\n        </nav>\r\n    );\r\n   \r\n}\r\n\r\nexport default Navbar;","import { connect } from 'react-redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { initialStateType } from '../../redux/sideBar-reducer';\r\nimport Navbar from './Navbar';\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): initialStateType=>({friendsList: state.sideBar.friendsList})\r\n\r\n\r\nconst NavbarContainer = connect(mapStateToProps,{})(Navbar);\r\n\r\n\r\nexport default NavbarContainer;","import React from 'react';\r\nimport cl from './User.module.css';\r\nimport avaDefault from '../../../assets/images/zorro.jpg'\r\nimport { NavLink } from 'react-router-dom';\r\nimport { UsersDataType } from '../../../types/types';\r\nimport { PropsType } from '../Users';\r\n\r\nconst User: React.FC< OwnPropsType> = (props) => {\r\n    return (<>\r\n        <div className={cl.userItem}>\r\n            <NavLink to={'profile/' + props.user.id}><img className={cl.avatar}\r\n                src={props.user.photos.small != null ? props.user.photos.small : avaDefault}\r\n                alt='ava'></img>\r\n            </NavLink>\r\n\r\n            <div className={cl.country}>{\r\n                props.user.id % 3 === 0\r\n                    ? <div className={cl.off}>offline</div> : <div className={cl.on}>online</div>}</div>\r\n\r\n            <div className={cl.name}>{props.user.name}</div>\r\n            <div className={cl.stars}></div>\r\n            <div className={cl.lastMessage}>{props.user.status ? 'status: ' + props.user.status : '----'}</div>\r\n\r\n            <div>\r\n                {\r\n                    props.user.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                            props.doUnfollow(props.user.id);\r\n\r\n                        }} className={cl.statusFollow}>UNFOLLOW</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                            props.doFollow(props.user.id);\r\n\r\n                        }} className={cl.statusFollow}>FOLLOW</button>}\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default User;\r\n\r\n\r\n//types\r\ntype OwnPropsType = {\r\n    user: UsersDataType\r\n    doFollow: (id: number) => void \r\n    doUnfollow: (id: number) => void \r\n    followingInProgress: Array<number>\r\n}","import React from 'react';\r\nimport { UsersDataType } from '../../types/types';\r\nimport User from './User/User';\r\nimport cl from './Users.module.css';\r\n\r\n\r\nexport type PropsType = {\r\n    usersGenerate: Array<UsersDataType>\r\n    doFollow: (id: number) => void \r\n    doUnfollow: (id: number) => void \r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\nlet Users: React.FC<PropsType> = (props) => {\r\n    return(\r\n        <>                \r\n                <div className={cl.usersItem}>\r\n                    {props.usersGenerate.map((user) =>               \r\n                        <User key={user.id}\r\n                            user={user}\r\n                            doFollow={props.doFollow}\r\n                            doUnfollow={props.doUnfollow}\r\n                            followingInProgress={props.followingInProgress}\r\n                        />)}\r\n                </div>\r\n            </>\r\n    );\r\n\r\n}\r\n\r\nexport default Users;\r\n\r\n","import { createSelector } from \"reselect\";\r\nimport { AppStateType } from \"./redux-store\";\r\n\r\nconst getUsersPage = (state: AppStateType) => { return state.usersPage };\r\n\r\nexport const getUsersData = createSelector(getUsersPage, (usersPage) => { return usersPage.usersData; });\r\nexport const getCurrentPage = createSelector(getUsersPage, (usersPage) => { return usersPage.currentPage });\r\nexport const getTotalCount = createSelector(getUsersPage, (usersPage) => { return usersPage.totalCount });\r\nexport const getPageSize = createSelector(getUsersPage, (usersPage) => { return usersPage.pageSize });\r\nexport const getIsFetching = createSelector(getUsersPage, (usersPage) => { return usersPage.isFetching });\r\nexport const getFollowingInProgress = createSelector(getUsersPage, (usersPage) => { return usersPage.followingInProgress });","import React, { useState } from 'react';\r\nimport cl from './Pagination.module.css';\r\nimport cn from 'classnames';\r\n\r\ntype PropsType = {\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n\r\n    changeCurPage: (page: number) => void\r\n}\r\n\r\nlet Pagination = (props: PropsType) => {\r\n    \r\n    let portionSize = 5;\r\n    let pagesQuantity = Math.ceil(props.totalCount / props.pageSize);\r\n    let pA = [];\r\n    for (let i = 1; i <= pagesQuantity; i++) {\r\n        pA.push(i);\r\n    }\r\n\r\n\r\n    const [ currentPortion, setCurrentPortion ] = useState(1);\r\n    let portionNumber = Math.ceil(pagesQuantity / portionSize);\r\n    let leftBorder = ((currentPortion - 1) * portionSize) + 1;\r\n    let rightBorder = portionSize * currentPortion;\r\n \r\n    return (\r\n        <>\r\n            <div className={cn(cl.pages)}>\r\n                {currentPortion > 1 && <button onClick={() => setCurrentPortion(currentPortion-1)}>minus</button> }\r\n                {pA\r\n                .filter(page => page >= leftBorder && page <= rightBorder)\r\n                .map(page => {\r\n                    return (\r\n                        <span onClick={() => { props.changeCurPage(page) }} className={cn({[cl.pageSelected || cl.page]: props.currentPage === page}) } key={page}>{page} </span>\r\n                    );\r\n                })\r\n                }\r\n                {portionNumber > currentPortion && <button onClick={() => setCurrentPortion(currentPortion+1)}>plus</button> }\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Pagination;\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { changeCurPageThunk, setUsersThunk, unFollowThunk, followThunk } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalCount, getUsersData } from '../../redux/users-selectors';\r\nimport cl from './../Users/Users.module.css'\r\nimport Pagination from '../common/Pagination/Pagination';\r\nimport { UsersDataType } from '../../types/types';\r\nimport { AppStateType } from './../../redux/redux-store';\r\n\r\nexport type MapStateToPropsType = {\r\n    usersGenerate: Array<UsersDataType>\r\n    currentPage: number\r\n    totalCount: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n// usersGenerate, currentPage, totalCount, pageSize, isFetching\r\nexport type MapDispatchToPropsType = {\r\n    setUsers: (currentPage: number, pageSize: number) => void\r\n    setCurPage: (page: number, pageSize: number) => void\r\n    doFollow: (id: number) => void \r\n    doUnfollow: (id: number) => void \r\n}\r\nexport type OwnPropsType = {\r\n    title: string\r\n    user?: UsersDataType\r\n    store: AppStateType\r\n}\r\nexport type PropsType = MapStateToPropsType & MapDispatchToPropsType & OwnPropsType;\r\n\r\n// React.Component<PropsType, StateType>\r\nclass UsersContainerClass extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.setUsers(this.props.currentPage, this.props.pageSize);\r\n\r\n    }\r\n    changeCurPage = (page: number) => {\r\n        this.props.setCurPage(page,this.props.pageSize);\r\n    }\r\n    render() {\r\n        return <>\r\n        <div>{this.props.title}</div>\r\n        <div className={cl.userPage}>Choose your friends{this.props.isFetching && <span className={cl.preloader}><Preloader/></span>}</div>\r\n         <div className={cl.pagination}> <Pagination {...this.props} changeCurPage={this.changeCurPage} /> </div>\r\n        {!this.props.isFetching\r\n        && <Users \r\n            usersGenerate={this.props.usersGenerate}\r\n            doFollow={this.props.doFollow}\r\n            doUnfollow={this.props.doUnfollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n                    />}\r\n            </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        usersGenerate: getUsersData(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalCount: getTotalCount(state),\r\n        pageSize: getPageSize(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n        \r\n    };\r\n}\r\n\r\n// <TStateProps = {}, TDispatchProps = {}, TOwnProps = {}, State = DefaultState>\r\n// <ReturnType<typeof mapStateToProps>, MapDispatchToProps, OwnPropsType, AppStateType >\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, OwnPropsType , AppStateType>(mapStateToProps, {\r\n    doFollow: followThunk,\r\n    doUnfollow: unFollowThunk,\r\n    setUsers: setUsersThunk,\r\n    setCurPage: changeCurPageThunk\r\n})(UsersContainerClass)\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport cl from './Header.module.css';\r\nimport logo from './../../assets/startPage/logo2.jpg';\r\nimport { initialStateType } from '../../redux/authMe';\r\nimport { MapDispatchToProps } from './HeaderContainer';\r\n\r\n\r\ntype PropsType = {\r\n    isAuthMe: boolean\r\n}\r\n\r\nconst Header: React.FC<PropsType & MapDispatchToProps> =  (props) => {\r\n    return (<>\r\n        <header className={cl.header}>\r\n            <div className={cl.loginPhrase}>\r\n                {props.isAuthMe\r\n                    ? <div onClick={props.logout} className={cl.userLogin}>Click to logOut </div>\r\n                    : <div className={cl.logIn}><NavLink  to='login/'><div>Log In</div> </NavLink></div>\r\n                }\r\n            </div>\r\n            <div className={cl.name}>HellDream</div>\r\n            <div><img className={cl.logo} src={logo} alt=\"logo\" /></div>\r\n\r\n        </header>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logoutThunk } from '../../redux/authMe';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport Header from './Header';\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {...state.authMe}\r\n}\r\n\r\nlet HeaderContainer = connect<MapStateToProps, MapDispatchToProps, {}, AppStateType >(mapStateToProps, {\r\n    logout: logoutThunk\r\n})(Header);\r\nexport default HeaderContainer;\r\n\r\ntype MapStateToProps = {\r\n    isAuthMe: boolean\r\n}\r\nexport type MapDispatchToProps = {\r\n    logout: () => void\r\n}\r\n","import cl from '../Login/Login.module.css';\r\nimport React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { InputComp } from '../common/InputChecker/InputChecker';\r\nimport { maxLengthC, required } from '../common/Validators/Validators';\r\nimport checker from './../common/InputChecker/InputChecker.module.css';\r\nimport { DataIsLoginType } from '../../redux/authMe';\r\n\r\nconst maxLength30 = maxLengthC(30);\r\n\r\ntype OwnPropsType = {\r\n    captcha: string | null\r\n}\r\n\r\nlet LoginForm: React.FC<InjectedFormProps<DataIsLoginType, OwnPropsType> & OwnPropsType> = (props) => { \r\n    return <>\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><Field name='login' component={InputComp} type=\"text\" placeholder={'login'} validate={[required, maxLength30]} /></div>\r\n            <div><Field name='password' component={InputComp} type=\"text\" placeholder={'password'} validate={[required, maxLength30]} /></div>\r\n            <div><Field name='checkbox' component='input' type=\"checkbox\" />Remember Me</div>\r\n            {props.error && <div className={checker.commonError}> {props.error} </div>}\r\n            {props.captcha && <div><img src={props.captcha} /> \r\n             <Field name='symbols' component={InputComp} type=\"text\" placeholder={'symbols'} /> </div> }\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    </>\r\n}\r\n\r\nexport default reduxForm<DataIsLoginType, OwnPropsType>({ form: 'login' })(LoginForm);\r\n","import cl from '../Login/Login.module.css';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { DataIsLoginType, putLoginPasswordThunk } from '../../redux/authMe';\r\nimport LoginForm from './LoginForm';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\ntype MapStateToPropsType = {\r\n    authMe: boolean\r\n    captcha: string | null\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    isLogin: (data: DataIsLoginType) => void\r\n}\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType;\r\nlet Login: React.FC<PropsType> = (props) => {\r\n    const onSubmit = (formData: DataIsLoginType) => {\r\n        props.isLogin(formData);\r\n    }\r\n    return <>\r\n        <div className={cl.starter}>LOGIN</div>\r\n        {props.authMe\r\n            ? <div >You are login successfully</div>\r\n            : <LoginForm onSubmit={onSubmit} captcha={props.captcha} />\r\n        }\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        authMe: state.authMe.isAuthMe,\r\n        captcha: state.authMe.captcha\r\n    }\r\n}\r\n\r\nlet LoginFormContainer = connect<MapStateToPropsType, MapDispatchToPropsType, {store: AppStateType}, AppStateType>(mapStateToProps, {\r\n    isLogin: putLoginPasswordThunk\r\n})(Login);\r\n\r\nexport default LoginFormContainer;","import React, { ReactNode } from 'react';\r\nimport { Route, RouteComponentProps, RouteProps, Switch, useLocation, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginFormContainer from './components/Login/Login';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { setInitializeThunk } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport { AppStateType } from './redux/redux-store';\r\nimport { Suspense, lazy } from 'react';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component<PropsType & {store: AppStateType} & RouteProps , {}> {\r\n\r\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n        alert('Some error occured')\r\n        //for dispatch a function for fix the global error\r\n        //handle error global\r\n    }\r\n    componentDidMount() {\r\n        this.props.setInitialize()\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n\r\n    PostsComp = () =>   <Suspense fallback={<h1>Still Loading…</h1>}> <ProfileContainer store={this.props.store} /> </Suspense>\r\n    DialogsMessagesComp = () => <DialogsContainer store={this.props.store} />;\r\n    UsersComp = () => <UsersContainer store={this.props.store} title='UsersContainer' />;\r\n    LoginFormContainerCom = () => <LoginFormContainer store={this.props.store} />;\r\n    render() {\r\n        if (!this.props.initialized) { return <Preloader /> }\r\n        return (\r\n\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <NavbarContainer />\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route path='/dialogs' render={this.DialogsMessagesComp} />\r\n                        <Route path='/profile/:userId?' render={this.PostsComp} />\r\n                        <Route path='/news' render={News} />\r\n                        <Route path='/music' render={Music} />\r\n                        <Route path='/settings' render={Settings} />\r\n                        <Route path='/users' render={this.UsersComp} />\r\n                        <Route path='/login' render={this.LoginFormContainerCom} />\r\n                        <Route path='*' render={() => <NoMatch />} />\r\n                    </Switch>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet NoMatch = () => {\r\n    let location = useLocation()\r\n    return (\r\n    <div>\r\n        {(location.pathname === '/') ? <div>StarterPage</div> : <div>No match</div>}\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return ({\r\n        initialized: state.appInit.initialized\r\n    })\r\n}\r\n\r\nlet AppMain = compose<React.ComponentType>(\r\n    withRouter,\r\n    connect<MapStateToPropsType, MapDispatchToPropsType, OwnPropsType, AppStateType>(mapStateToProps, { setInitialize: setInitializeThunk })\r\n)(App)\r\n\r\nexport default AppMain\r\n\r\n//types\r\ntype PropsType = MapDispatchToPropsType & MapStateToPropsType\r\ntype OwnPropsType = {}\r\n\r\ntype MapDispatchToPropsType = {\r\n    setInitialize: () => void\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    initialized: boolean\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './redux/redux-store';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport AppMain from './App';\r\n\r\n\r\n\r\n    ReactDOM.render(\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n            <AppMain />\r\n            </HashRouter>\r\n        </Provider>,\r\n        document.getElementById('root')\r\n    );\r\n\r\n// renderEntireTree(store.getState()); //вже викликаємо\r\n//redux не вертає state змінений, тож викликаємо анонімну функцію, яка отримає зміни і віддасть rerender\r\n// store.subscribe(() => {    переходить у власність виконання connect from  'react-redux'\r\n//     // let newState = store.getState();\r\n//     renderEntireTree();\r\n// });\r\n\r\nserviceWorker.unregister();\r\n","\r\ntype ValidatorsType = (value: null | string) => undefined | string\r\n\r\nexport const required: ValidatorsType = (value) => {\r\n   return value ? undefined : 'Field is required';\r\n}\r\n\r\nexport let maxLengthC = (maxLen: number): ValidatorsType => (value) => {\r\n   return value && value.length < maxLen ? undefined : `${maxLen} is reached`} ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__3b1l2\",\"name\":\"Header_name__wsK4x\",\"header\":\"Header_header__10dxk\",\"loginPhrase\":\"Header_loginPhrase__3mCng\",\"userLogin\":\"Header_userLogin__230Sn\",\"logIn\":\"Header_logIn__IbfsR\"};","import React from 'react';\r\nimport { WrappedFieldProps } from 'redux-form';\r\nimport cl from './InputChecker.module.css';\r\n\r\ntype PropsType = {\r\n    placeholder: string\r\n}\r\n\r\nexport const InputComp: React.FC<WrappedFieldProps & PropsType>  = ({ input, meta, placeholder }) => {\r\n    return <>\r\n            <div className={(meta.error && meta.visited && !meta.active) && cl.error}>\r\n            <input  {...input} placeholder={placeholder}></input>\r\n        </div>\r\n        <span className={cl.messageError}>{(meta.visited && !meta.active) && meta.error}</span>\r\n    </>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2BwxY\",\"dialogsItems\":\"Dialogs_dialogsItems__5NlB3\",\"dialog\":\"Dialogs_dialog__39fd-\",\"message\":\"Dialogs_message__cuXq7\",\"active\":\"Dialogs_active__17luP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPage\":\"Users_userPage__3pdtU\",\"butGET\":\"Users_butGET__3mBVF\",\"preloader\":\"Users_preloader__3ube4\",\"pagination\":\"Users_pagination__1ZtKZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"InputChecker_error__3bOFz\",\"messageError\":\"InputChecker_messageError__2L7eE\",\"commonError\":\"InputChecker_commonError__15Qry\"};","import React from 'react';\r\nimport preloader from './preloader.svg';\r\nimport cl from './Preloader.module.css';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={cl.divPreloader}>\r\n            <img className={cl.preloader} src={preloader} alt=\"preloader\" />\r\n        </div>\r\n    );\r\n}\r\nexport default Preloader;","module.exports = __webpack_public_path__ + \"static/media/zorro.097a33ad.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3izJD\",\"active\":\"Dialog_active__1j-Og\",\"avatar\":\"Dialog_avatar__1n0LU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Friends_avatar__2iBkW\",\"friend\":\"Friends_friend__1Hlqs\",\"name\":\"Friends_name__YkjbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Pagination_pages__3ksA0\",\"page\":\"Pagination_page__1iloC\",\"pageSelected\":\"Pagination_pageSelected__EFH4Z\"};"],"sourceRoot":""}