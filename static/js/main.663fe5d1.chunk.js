(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[0],{112:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(203),u=n.n(c),s=n(155),o=n.n(s);t.a=function(){return r.a.createElement("div",{className:o.a.divPreloader},r.a.createElement("img",{className:o.a.preloader,src:u.a,alt:"preloader"}))}},137:function(e,t,n){e.exports={pages:"Pagination_pages__3ksA0",page:"Pagination_page__1iloC",pageSelected:"Pagination_pageSelected__EFH4Z"}},155:function(e,t,n){e.exports={preloader:"Preloader_preloader__UMRl1",divPreloader:"Preloader_divPreloader__3iYxB"}},158:function(e,t,n){e.exports={dialog:"Dialog_dialog__3izJD",active:"Dialog_active__1j-Og",avatar:"Dialog_avatar__1n0LU"}},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h}));var a=n(19),r=n.n(a),c=n(29),u=n(69),s=n(7),o=n(57),i=n(24),l="SN/PROFILE/SET-PROFILE",f="SN/PROFILE/POST-FORM-newPostText",m={postsData:[{id:1,message:"Hello",likes:15},{id:2,message:"Bonjour",likes:30},{id:3,message:"\u041f\u0440\u0438\u0432\u0435\u0442",likes:15e3}],profile:null,status:"no status"},d={setProfile:function(e){return{type:l,profile:e}},updateStatusAC:function(e){return{type:"SN/PROFILE/SET-STATUS",status:e}},postForm:function(e){return{type:f,content:e}},uploadPhoto:function(e){return{type:"SN/PROFILE/UPLOAD-PHOTO",image:e}}},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.showProfile(e);case 2:a=t.sent,n(d.setProfile(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.updateStatus(e);case 2:t.sent.resultCode===i.a.Success&&n(d.updateStatusAC(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.getStatus(e);case 2:a=t.sent,n(d.updateStatusAC(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.uploadPhoto(e);case 2:(a=t.sent).resultCode===i.a.Success&&n(d.uploadPhoto(a.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.updateProfile(e);case 2:if(0!==(c=t.sent).resultCode){t.next=7;break}n(p(a().authMe.id)),t.next=10;break;case 7:if(!(c.messages.length>0)){t.next=10;break}return n(Object(o.b)("editProfile",{_error:c.messages})),t.abrupt("return",Promise.reject(c.messages));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n={id:5,message:t.content,likes:0};return Object(s.a)(Object(s.a)({},e),{},{postsData:[].concat(Object(u.a)(e.postsData),[n])});case l:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SN/PROFILE/UPLOAD-PHOTO":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.image})});case"SN/PROFILE/SET-STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});default:return e}}},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),c=n(16),u=n(25),s=n(61),o=function(e){return function(t){return Object(c.d)(s.b)?r.a.createElement(e,t):r.a.createElement(u.a,{to:"/login"})}}},203:function(e,t,n){e.exports=n.p+"static/media/preloader.c04e3ad7.svg"},206:function(e,t,n){e.exports={message:"Message_message__xSb92"}},207:function(e,t,n){e.exports={logo:"Header_logo__3b1l2",name:"Header_name__wsK4x",header:"Header_header__10dxk",loginPhrase:"Header_loginPhrase__3mCng",userLogin:"Header_userLogin__230Sn",logIn:"Header_logIn__IbfsR"}},215:function(e,t,n){e.exports={starter:"Login_starter__1tZcA"}},218:function(e,t,n){e.exports=n.p+"static/media/zorro.097a33ad.jpg"},24:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return a}));var a,r=n(204),c=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"30bffa88-490b-405c-83b6-e6b58d235873"}}),u={getUsers:function(e,t,n,a){return c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n).concat(null===a?"":"&friend="+a)).then((function(e){return e.data}))},changeCurPage:function(e,t){return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unFollowDeleteRequest:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},followPostRequest:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))}},s={isAuthMe:function(){return c.get("auth/me").then((function(e){return e.data}))},isLogin:function(e){return c.post("auth/login",{email:e.login,password:e.password,rememberMe:e.checkbox,captcha:e.symbols}).then((function(e){return e.data}))},isLogout:function(){return c.delete("auth/login").then((function(e){return e.data}))}},o={showProfile:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return c.put("/profile/status",{status:e}).then((function(e){return e.data}))},getStatus:function(e){return c.get("/profile/status/".concat(e)).then((function(e){return e.data}))},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),c.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},updateProfile:function(e){return c.put("/profile",e).then((function(e){return e.data}))}},i={getCaptchaURL:function(){return c.get("/security/get-captcha-url").then((function(e){return e.data}))}},l={getAlldialogs:function(){return c.get("/dialogs").then((function(e){return e.data}))},startChat:function(e){return c.put("/dialogs/".concat(e)).then((function(e){return e.data}))}};!function(e){e[e.Success=0]="Success",e[e.Error=10]="Error"}(a||(a={}))},249:function(e,t,n){e.exports=n(389)},257:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),u=n.n(c),s=n(16),o=n(36),i=n(25),l=(n(257),n(112)),f=n(57),m=n(95),d=n(46),p=function(e){return e.messagesPage},g=Object(d.a)(p,(function(e){return e.messagesData})),E=Object(d.a)(p,(function(e){return e.dialogsUsersData})),b=n(174),h=n(158),v=n.n(h),O=function(e){var t=e.user;t.id;return r.a.createElement("div",{className:v.a.dialog},r.a.createElement("span",null," ",r.a.createElement("img",{className:v.a.avatar,src:t.photos.small||"",alt:"ava"})," "),r.a.createElement("div",null,"  ",t.userName," "))},S=n(87),j=n.n(S),_=n(77),y=n(70),w=n(198),P=n(199),N=Object(P.a)({form:"sendMessage"})((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(w.a,{name:"newMessageText",type:"text",validate:[y.b,x],component:_.a}),r.a.createElement("button",{type:"submit",className:j.a.sendMessage},"send")))})),x=Object(y.a)(10),k=n(206),C=n.n(k),A=function(e){return r.a.createElement("div",{className:C.a.message},e.message)},U=Object(b.a)((function(e){Object(a.useEffect)((function(){c(Object(m.c)())}),[]);var t=Object(s.d)(E),n=Object(s.d)(g),c=Object(s.c)(),u=t.map((function(e){return r.a.createElement(O,{key:e.id,user:e})})),o=n.map((function(e){return r.a.createElement(A,{key:e.id,message:e.message})}));return r.a.createElement("div",{className:j.a.dialogs},r.a.createElement("div",{className:j.a.dialogsItems},u),r.a.createElement("div",{className:j.a.messages},o),r.a.createElement(N,{onSubmit:function(e,t){c(m.a.sendMessage(e.newMessageText)),t(Object(f.a)("sendMessage"))}}))})),I=n(19),T=n.n(I),M=n(29),D=n(7),F=n(24),L="SN/AUTHME/IS-AUTH-ME",R="SN/AUTHME/CAPTCHA-SUCCESS",H={id:null,login:null,email:null,isAuthMe:!1,checkbox:!1,captcha:null},G=function(){return function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.b.isAuthMe();case 2:n=e.sent,t(W.setUserData(Object(D.a)({},n.data))),n.resultCode===F.a.Success&&t(W.setAuthMe(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(){return function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.d.getCaptchaURL();case 2:n=e.sent,t(W.setCaptcha(n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTHME/SET-USER-DATA":return Object(D.a)(Object(D.a)({},e),t.data);case L:return Object(D.a)(Object(D.a)({},e),{},{isAuthMe:t.isAuthMe});case R:return Object(D.a)(Object(D.a)({},e),{},{captcha:t.captcha});default:return e}},W={setUserData:function(e){var t=e.id,n=e.login,a=e.email,r=e.isAuthMe,c=e.captcha;return{type:"SN/AUTHME/SET-USER-DATA",data:{id:t,login:n,email:a,isAuthMe:r,captcha:void 0===c?null:c}}},setAuthMe:function(e){return{type:L,isAuthMe:e}},setCaptcha:function(e){return{type:R,captcha:e}}},Z=n(61),q=n(207),K=n.n(q),Y=n(392),J=n(396),Q=n(397),X=n(394),V=n(393),$=function(){var e=Object(s.d)(Z.b),t=Object(s.c)(),n=Object(a.useCallback)((function(){return t(function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.b.isLogout();case 2:0===(n=e.sent).resultCode&&t(W.setAuthMe(!1)),t(W.setUserData(Object(D.a)({},n.data)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),c=Y.a.Header,u=(V.a.Title,V.a.Text);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,{className:"site-layout-background"},r.a.createElement(J.a,null,r.a.createElement(Q.a,{span:20},r.a.createElement(u,{type:"warning",className:K.a.name},"HellDream")),r.a.createElement(Q.a,{span:4},e?r.a.createElement(X.a,{onClick:n},"Log Out"):r.a.createElement(X.a,null,r.a.createElement(o.b,{to:"login/"},"Log In"))))))},ee=n(215),te=n.n(ee),ne=n(96),ae=n.n(ne),re=Object(y.a)(30),ce=Object(P.a)({form:"login"})((function(e){var t=Object(s.d)(Z.c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(w.a,{name:"login",component:_.a,type:"text",placeholder:"login",validate:[y.b,re]})),r.a.createElement("div",null,r.a.createElement(w.a,{name:"password",component:_.a,type:"text",placeholder:"password",validate:[y.b,re]})),r.a.createElement("div",null,r.a.createElement(w.a,{name:"checkbox",component:"input",type:"checkbox"}),"Remember Me"),e.error&&r.a.createElement("div",{className:ae.a.commonError}," ",e.error," "),t&&r.a.createElement("div",null,r.a.createElement("img",{src:t}),r.a.createElement(w.a,{name:"symbols",component:_.a,type:"text",placeholder:"symbols"})," "),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))})),ue=function(){var e=Object(s.d)(Z.b),t=Object(s.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:te.a.starter},"LOGIN"),e?r.a.createElement("div",null,"You are login successfully"):r.a.createElement(ce,{onSubmit:function(e){var n;t((n=e,function(){var e=Object(M.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.b.isLogin(n);case 2:0===(a=e.sent).resultCode?t(G()):(10===a.resultCode&&t(z()),r=a.messages.length>0?a.messages[0]:"Some errors",t(Object(f.b)("login",{_error:r})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}))},se=function(){return r.a.createElement("div",null,"Music")},oe=n(110),ie=Object(d.a)((function(e){return e.sideBar}),(function(e){return e.friendsList})),le=n(398),fe=n(399),me=n(400),de=n(395),pe=function(){var e=Y.a.Sider,t=Object(a.useState)(!1),n=Object(oe.a)(t,2),c=n[0],u=n[1],i=de.a.SubMenu;Object(s.d)(ie);return r.a.createElement(e,{collapsible:!0,collapsed:c,onCollapse:function(e){u(e)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(de.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(de.a.Item,{key:"1",icon:r.a.createElement(le.a,null),style:{margin:"0"}},"Starter Page"),r.a.createElement(i,{key:"sub1",icon:r.a.createElement(fe.a,null),title:"Profile"},r.a.createElement(de.a.Item,{key:"2"},r.a.createElement(o.b,{to:"/profile"},"My Profile")),r.a.createElement(de.a.Item,{key:"3"},r.a.createElement(o.b,{to:"/music"},"Music"))),r.a.createElement(i,{key:"sub2",icon:r.a.createElement(fe.a,null),title:"Chats"},r.a.createElement(de.a.Item,{key:"4",icon:r.a.createElement(le.a,null)},r.a.createElement(o.b,{to:"/dialogs"},"Personal Messages")),r.a.createElement(de.a.Item,{key:"5",icon:r.a.createElement(le.a,null)},r.a.createElement(o.b,{to:"/publicchat"},"Public Chat"))),r.a.createElement(de.a.Item,{key:"6",icon:r.a.createElement(le.a,null)},r.a.createElement(o.b,{to:"/users"},"Users")),r.a.createElement(de.a.Item,{key:"7",icon:r.a.createElement(me.a,null)},r.a.createElement(o.b,{to:"/news"},"News")),r.a.createElement(de.a.Item,{key:"8",icon:r.a.createElement(me.a,null)},r.a.createElement(o.b,{to:"/settings"},"Settings"))))};function ge(){return r.a.createElement("a",{href:"#",onClick:function(){console.log("\u041f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438.")}},"\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043c\u0435\u043d\u044f")}var Ee=function(){return r.a.createElement("div",null,r.a.createElement(ge,null))},be=function(){return r.a.createElement("div",null,"Settings")},he=n(69),ve="SN/USERS/FOLLOW",Oe="SN/USERS/UNFOLLOW",Se="SN/USERS/SETUSERS",je="SN/USERS/CURPAGE",_e="SN/USERS/SET-FILTER-FOR-USERS",ye={usersData:[],currentPage:1,pageSize:90,totalCount:10,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},we=function(e){return{type:Oe,id:e}},Pe=function(e){return{type:ve,id:e}},Ne=function(e){return{type:Se,usersData:e}},xe=function(e){return{type:je,currentPage:e}},ke=function(e){return{type:"SN/USERS/TOTALCOUNT",totalCount:e}},Ce=function(e){return{type:_e,filter:e}},Ae=function(e){return{type:"SN/USERS/TOGGLEIF",isFetching:e}},Ue=function(e,t){return{type:"SN/USERS/FOLISFETCH",followingTF:e,userId:t}},Ie=function(e,t,n){return function(){var a=Object(M.a)(T.a.mark((function a(r){var c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(Ae(!0)),r(Ce(n)),a.next=4,F.f.getUsers(e,t,n.term,n.friend);case 4:c=a.sent,r(Ae(!1)),r(Ne(c.items)),r(ke(c.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(D.a)(Object(D.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(D.a)(Object(D.a)({},e),{},{followed:!0}):e}))});case Oe:return Object(D.a)(Object(D.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(D.a)(Object(D.a)({},e),{},{followed:!1}):e}))});case Se:return Object(D.a)(Object(D.a)({},e),{},{usersData:Object(he.a)(t.usersData)});case je:return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/TOTALCOUNT":return Object(D.a)(Object(D.a)({},e),{},{totalCount:t.totalCount});case _e:return Object(D.a)(Object(D.a)({},e),{},{filter:t.filter});case"SN/USERS/TOGGLEIF":return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/FOLISFETCH":var n=Object(D.a)(Object(D.a)({},e),{},{followingInProgress:Object(he.a)(e.followingInProgress)});return t.followingTF?n.followingInProgress.push(t.userId):n.followingInProgress=n.followingInProgress.filter((function(e){return e!==t.userId})),n;default:return e}},Me=function(e){return e.usersPage},De=Object(d.a)(Me,(function(e){return e.usersData})),Fe=Object(d.a)(Me,(function(e){return e.currentPage})),Le=Object(d.a)(Me,(function(e){return e.totalCount})),Re=Object(d.a)(Me,(function(e){return e.pageSize})),He=Object(d.a)(Me,(function(e){return e.isFetching})),Ge=Object(d.a)(Me,(function(e){return e.followingInProgress})),ze=Object(d.a)(Me,(function(e){return e.filter})),Be=n(124),We=n(137),Ze=n.n(We),qe=n(4),Ke=n.n(qe),Ye=function(e){for(var t=Object(s.d)(Le),n=Math.ceil(t/e.pageSize),c=[],u=1;u<=n;u++)c.push(u);var o=Object(a.useState)(1),i=Object(oe.a)(o,2),l=i[0],f=i[1],m=Math.ceil(n/5),d=5*(l-1)+1,p=5*l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ke()(Ze.a.pages)},l>1&&r.a.createElement("button",{onClick:function(){return f(l-1)}},"minus"),c.filter((function(e){return e>=d&&e<=p})).map((function(t){return r.a.createElement("span",{onClick:function(){e.changeCurPage(t)},className:Ke()(Object(Be.a)({},Ze.a.pageSelected||Ze.a.page,e.currentPage===t)),key:t},t," ")})),m>l&&r.a.createElement("button",{onClick:function(){return f(l+1)}},"plus")))},Je=n(89),Qe=n.n(Je),Xe=n(106),Ve=function(e){var t=Object(s.d)(ze);return r.a.createElement("div",null,"Search for your friends)",r.a.createElement("div",null,r.a.createElement(Xe.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},onSubmit:function(t,n){var a=n.setSubmitting,r=Object(D.a)(Object(D.a)({},t),{},{friend:"null"===t.friend?null:"true"===t.friend||"false"===t.friend&&!1});e.onFilterChange(r),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(Xe.b,null,r.a.createElement(Xe.a,{type:"text",name:"term"}),r.a.createElement(Xe.a,{name:"friend",as:"select"},r.a.createElement("option",{value:"null"},"All"),r.a.createElement("option",{value:"true"},"Only followed"),r.a.createElement("option",{value:"false"},"Only unfollowed")),r.a.createElement("button",{type:"submit",disabled:t},"Find"))}))))},$e=n(218),et=n.n($e),tt=n(52),nt=n.n(tt),at=function(e){var t=Object(s.c)(),n=Object(s.d)(Ge);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:nt.a.userItem},r.a.createElement(o.c,{to:"profile/"+e.user.id},r.a.createElement("img",{className:nt.a.avatar,src:null!=e.user.photos.small?e.user.photos.small:et.a,alt:"ava"})),r.a.createElement("div",{className:nt.a.country},e.user.id%3===0?r.a.createElement("div",{className:nt.a.off},"offline"):r.a.createElement("div",{className:nt.a.on},"online")),r.a.createElement("div",{className:nt.a.name},e.user.name),r.a.createElement("div",{className:nt.a.stars}),r.a.createElement("div",{className:nt.a.lastMessage},e.user.status?"status: "+e.user.status:"----"),r.a.createElement("div",null,e.user.followed?r.a.createElement("button",{disabled:n.some((function(t){return t===e.user.id})),onClick:function(){var n;t((n=e.user.id,function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ue(!0,n)),e.next=3,F.f.unFollowDeleteRequest(n);case 3:0===e.sent.resultCode&&t(we(n)),t(Ue(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:nt.a.statusFollow},"UNFOLLOW"):r.a.createElement("button",{disabled:n.some((function(t){return t===e.user.id})),onClick:function(){var n;t((n=e.user.id,function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ue(!0,n)),e.next=3,F.f.followPostRequest(n);case 3:0===e.sent.resultCode&&t(Pe(n)),t(Ue(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:nt.a.statusFollow},"FOLLOW"))))},rt=function(e){var t=Object(s.d)(De);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Qe.a.usersItem},t.map((function(e){return r.a.createElement(at,{key:e.id,user:e})}))))},ct=n(374),ut=function(e){var t=Object(s.d)(He),n=Object(s.d)(ze),c=Object(s.d)(Re),u=Object(s.d)(Fe),o=Object(s.c)(),f=Object(i.g)(),m=function(e){o(Ie(u,c,e))};return Object(a.useEffect)((function(){var e=ct.parse(f.location.search.substr(1)),t=u,n={term:"",friend:null};switch(e.page&&(t=Number(e.page)),e.term&&(n=Object(D.a)(Object(D.a)({},n),{},{term:e.term})),e.friend){case"null":n=Object(D.a)(Object(D.a)({},n),{},{friend:null});break;case"true":n=Object(D.a)(Object(D.a)({},n),{},{friend:!0});break;case"false":n=Object(D.a)(Object(D.a)({},n),{},{friend:!1})}o(Ie(t,c,n))}),[]),Object(a.useEffect)((function(){var e={};n.term&&(e.term=n.term),null!==n.friend&&(e.friend=String(n.friend)),1!==u&&(e.page=String(u)),f.push({pathname:"/users",search:ct.stringify(e)})}),[n,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Qe.a.userPage},"Choose your friends",t&&r.a.createElement("span",{className:Qe.a.preloader},r.a.createElement(l.a,null))),r.a.createElement("div",null,r.a.createElement(Ve,{onFilterChange:m})),r.a.createElement("div",{className:Qe.a.pagination},r.a.createElement(Ye,{changeCurPage:function(e){o(function(e,t){return function(){var n=Object(M.a)(T.a.mark((function n(a){var r;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(xe(e)),a(Ae(!0)),n.next=4,F.f.changeCurPage(e,t);case 4:r=n.sent,a(Ae(!1)),a(Ne(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,c))},pageSize:c,currentPage:u})," "),!t&&r.a.createElement(rt,{onFilterChange:m,filter:n}))},st="SN/APP/SET-INITIALIZE",ot={initialized:!1},it=function(){return{type:st}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});default:return e}},ft=(n(387),r.a.lazy((function(){return n.e(4).then(n.bind(null,494))}))),mt=r.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,495))})),dt=function(){var e=Object(i.h)();return r.a.createElement("div",null,"/"===e.pathname?r.a.createElement("div",null,"StarterPage"):r.a.createElement("div",null,"No match"))},pt=Object(i.i)(r.a.memo((function(e){var t=Object(s.d)((function(e){return e.appInit.initialized})),n=Object(s.c)(),c=function(e){alert("Some error occured")};Object(a.useEffect)((function(){return n(function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(G());case 2:t(it());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("unhandledrejection",c),window.removeEventListener("unhandledrejection",c)}),[]);var u=Y.a.Content,o=Y.a.Footer;return t?r.a.createElement(Y.a,{style:{minHeight:"100vh"}},r.a.createElement($,null),r.a.createElement(Y.a,{className:"site-layout"},r.a.createElement(pe,null),r.a.createElement(u,{style:{margin:"0 16px"}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/dialogs",render:function(){return r.a.createElement(U,null)}}),r.a.createElement(i.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("h1",null,"Still Loading\u2026")}," ",r.a.createElement(ft,null)," ")}}),r.a.createElement(i.b,{path:"/news",render:Ee}),r.a.createElement(i.b,{path:"/music",render:se}),r.a.createElement(i.b,{path:"/publicchat",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("h1",null,"Still Loading\u2026")},r.a.createElement(mt,null))}}),r.a.createElement(i.b,{path:"/settings",render:be}),r.a.createElement(i.b,{path:"/users",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(i.b,{path:"*",render:function(){return r.a.createElement(dt,null)}}))))),r.a.createElement(o,{style:{textAlign:"center"}},"Hell dream \xa92020 Created by noirkotyara")):r.a.createElement(l.a,null)}))),gt=(n(388),n(162)),Et={friendsList:[{id:1,name:"Zorro"},{id:2,name:"Lyubov"},{id:3,name:"Kuscherenko"}]},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return e},ht=n(219),vt=n(201),Ot=n(220),St=n(31),jt=St.createStore,_t=St.combineReducers,yt=St.applyMiddleware,wt=jt(_t({profilePage:gt.b,messagesPage:m.b,sideBar:bt,usersPage:Te,authMe:B,appInit:lt,form:vt.a}),Object(Ot.composeWithDevTools)(yt(ht.a)));window.store=wt;var Pt=wt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(s.a,{store:Pt},r.a.createElement(o.a,null,r.a.createElement(pt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){e.exports={userItem:"User_userItem__4zQnk",avatar:"User_avatar__39gSA",lastMessage:"User_lastMessage__1hlgj",name:"User_name__2R3Cl",off:"User_off__XjvUl",on:"User_on__1XQfw",country:"User_country__2T7Tr",stars:"User_stars__3aZm4"}},61:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=function(e){return e.authMe.captcha},r=function(e){return e.authMe.isAuthMe},c=function(e){return e.authMe.id}},70:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length<e?void 0:"".concat(e," is reached")}}},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),c=n(96),u=n.n(c),s=function(e){var t=e.input,n=e.meta,a=e.placeholder;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.error&&n.visited&&!n.active&&u.a.error},r.a.createElement("input",Object.assign({},t,{placeholder:a}))),r.a.createElement("span",{className:u.a.messageError},n.visited&&!n.active&&n.error))}},87:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2BwxY",dialogsItems:"Dialogs_dialogsItems__5NlB3",dialog:"Dialogs_dialog__39fd-",message:"Dialogs_message__cuXq7",active:"Dialogs_active__17luP"}},89:function(e,t,n){e.exports={userPage:"Users_userPage__3pdtU",butGET:"Users_butGET__3mBVF",preloader:"Users_preloader__3ube4",pagination:"Users_pagination__1ZtKZ"}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d}));var a=n(19),r=n.n(a),c=n(29),u=n(69),s=n(7),o=n(24),i={messagesData:[{id:1,message:"\u0437\u043b\u0442\u0449\u043e\u0442\u043e\u0442\u043e\u043b\u0438\u043e\u043b\u0438\u0433"},{id:2,message:"Hello"},{id:3,message:"Privet"},{id:4,message:"Au revoir"}],dialogsUsersData:[]},l=5,f={sendMessage:function(e){return{type:"SN/MESSAGES/ADD-MESSAGE-STATE",newMessageText:e}},getDialogs:function(e){return{type:"SN/MESSAGES/ADD-DIALOGS-USERS",users:e}},startChat:function(e){return{type:"SN/MESSAGES/START-CHAT",userId:e}}},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.getAlldialogs();case 2:n=e.sent,t(f.getDialogs(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.startChat(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/MESSAGES/ADD-MESSAGE-STATE":return l++,Object(s.a)(Object(s.a)({},e),{},{messagesData:[].concat(Object(u.a)(e.messagesData),[{id:l,message:t.newMessageText}])});case"SN/MESSAGES/ADD-DIALOGS-USERS":return Object(s.a)(Object(s.a)({},e),{},{dialogsUsersData:t.users});default:return e}}},96:function(e,t,n){e.exports={error:"InputChecker_error__3bOFz",messageError:"InputChecker_messageError__2L7eE",commonError:"InputChecker_commonError__15Qry"}}},[[249,1,2]]]);
//# sourceMappingURL=main.663fe5d1.chunk.js.map