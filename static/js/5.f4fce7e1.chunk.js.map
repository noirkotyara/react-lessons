{"version":3,"sources":["redux/profile-selectors.ts","components/Profile/ProfileInfo/ProfileInfo.module.scss","assets/startPage/av.jpg","../node_modules/antd/es/_util/getRenderPropValue.js","../node_modules/antd/es/popover/index.js","components/Settings/ChangePhoto.tsx","components/Settings/Settings.tsx"],"names":["getProfileData","state","profilePage","getPostsData","createSelector","postsData","getProfileObjectData","profile","getStatus","status","module","exports","getRenderPropValue","propValue","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Popover","React","_a","ref","customizePrefixCls","prefixCls","title","content","otherProps","getPrefixCls","ConfigContext","Tooltip","_extends","overlay","className","concat","getOverlay","displayName","defaultProps","placement","transitionName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","ChangePhoto","useEffect","dispatch","authMeSuccessThunk","setProfileThunk","userId","useState","editMode","changeEditMode","useRouteMatch","useDispatch","profileData","useSelector","getAuthID","photoFile","changePhotoFile","authID","Preloader","cl","avatarFullNameStatus","span","avatarImage","src","photos","small","avaDefault","alt","onDoubleClick","type","accept","onChange","target","files","choosedPhoto","onClick","uploadPhotoThunk","value","Settings"],"mappings":"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","file":"static/js/5.f4fce7e1.chunk.js","sourcesContent":["import { createSelector } from \"reselect\";\r\nimport { AppStateType } from \"./redux-store\";\r\n\r\nconst getProfileData = (state: AppStateType) => { return state.profilePage };\r\n\r\nexport const getPostsData = createSelector(getProfileData, (profilePage) => { return profilePage.postsData });\r\nexport const getProfileObjectData = createSelector(getProfileData, (profilePage) => { return profilePage.profile });\r\nexport const getStatus = createSelector(getProfileData, (profilePage) => { return profilePage.status });\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__3GDnK\",\"contacts\":\"ProfileInfo_contacts__37vHF\",\"fullname\":\"ProfileInfo_fullname__3dF7s\",\"colWithFullName\":\"ProfileInfo_colWithFullName__3lzJh\",\"socialIcon\":\"ProfileInfo_socialIcon__GBk5o\",\"avatarFullNameStatus\":\"ProfileInfo_avatarFullNameStatus__29b5J\",\"aboutMe\":\"ProfileInfo_aboutMe__22GW8\",\"avatarImage\":\"ProfileInfo_avatarImage__3DVSz\",\"links\":\"ProfileInfo_links__3PGGK\",\"editData\":\"ProfileInfo_editData__3bG9g\"};","module.exports = __webpack_public_path__ + \"static/media/av.3322ac59.jpg\";","export var getRenderPropValue = function getRenderPropValue(propValue) {\n  if (!propValue) {\n    return null;\n  }\n\n  var isRenderFunction = typeof propValue === 'function';\n\n  if (isRenderFunction) {\n    return propValue();\n  }\n\n  return propValue;\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Tooltip from '../tooltip';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nvar Popover = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var customizePrefixCls = _a.prefixCls,\n      title = _a.title,\n      content = _a.content,\n      otherProps = __rest(_a, [\"prefixCls\", \"title\", \"content\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var getOverlay = function getOverlay(prefixCls) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\")\n    }, getRenderPropValue(title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, getRenderPropValue(content)));\n  };\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, otherProps, {\n    prefixCls: prefixCls,\n    ref: ref,\n    overlay: getOverlay(prefixCls)\n  }));\n});\nPopover.displayName = 'Popover';\nPopover.defaultProps = {\n  placement: 'top',\n  transitionName: 'zoom-big',\n  trigger: 'hover',\n  mouseEnterDelay: 0.1,\n  mouseLeaveDelay: 0.1,\n  overlayStyle: {}\n};\nexport default Popover;","import { Col, Popover, Row } from \"antd\";\r\nimport Layout from \"antd/lib/layout/layout\";\r\nimport { ChangeEvent, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RouteComponentProps, useRouteMatch } from \"react-router-dom\";\r\nimport { getAuthID } from \"../../redux/authMe-selectors\";\r\nimport { setProfileThunk, uploadPhotoThunk } from \"../../redux/profile-reducer\";\r\nimport cl from './../Profile/ProfileInfo/ProfileInfo.module.scss';\r\nimport React from 'react'\r\nimport { getProfileObjectData } from \"../../redux/profile-selectors\";\r\nimport { ProfileType } from \"../../types/types\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport avaDefault from './../../assets/startPage/av.jpg';\r\nimport { authMeSuccessThunk } from \"../../redux/authMe\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\nexport const ChangePhoto: React.FC<{}> = () => {\r\n\r\n    useEffect(() => {\r\n        debugger\r\n        dispatch(authMeSuccessThunk)\r\n        dispatch(setProfileThunk(userId))\r\n    }, [])\r\n\r\n    let [editMode, changeEditMode] = useState(false);\r\n    let match = useRouteMatch<PathParamsType>()\r\n    const dispatch = useDispatch()\r\n    const profileData = useSelector<AppStateType, ProfileType>(getProfileObjectData)\r\n    let userId = useSelector<AppStateType, number>(getAuthID)\r\n    let [photoFile, changePhotoFile] = useState<any>('');\r\n    const authID = useSelector(getAuthID)\r\n    \r\n    \r\n    let choosedPhoto = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            changePhotoFile(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    let choosePhotoEdition = () => {\r\n        changeEditMode(true);\r\n    }\r\n\r\n    let uploadPhotoPreparation = () => {\r\n        //photoFile typeScript is annoying \r\n        dispatch(uploadPhotoThunk(photoFile))\r\n        changeEditMode(false);\r\n    }\r\n    const content = (\r\n        <div>Double click to change avatar photo</div>\r\n    )\r\n    if(profileData === null) return <Preloader/>\r\n    else return (<Layout>\r\n        {(editMode && (authID === userId || !userId))\r\n            ? (<div>\r\n                <input type=\"file\" accept=\"image/*\" onChange={(e) => choosedPhoto(e)} />\r\n                <input onClick={uploadPhotoPreparation} type=\"button\" value='Upload' />\r\n            </div>)\r\n            :\r\n            <Row className={cl.avatarFullNameStatus}>\r\n                <Col span={6} >\r\n                    <Popover content={content} title=\"Tip\" placement='bottomLeft'>\r\n                        <img\r\n                            className={cl.avatarImage}\r\n                            src={profileData.photos.small ? profileData.photos.small : avaDefault}\r\n                            alt=\"avatar\"\r\n                            onDoubleClick={choosePhotoEdition} />\r\n                    </Popover>\r\n                </Col>\r\n            \r\n            </Row>\r\n            \r\n}\r\n\r\n        </Layout>\r\n    )\r\n}","import React from 'react';\r\nimport { ChangePhoto } from './ChangePhoto';\r\nimport cl from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n            <ChangePhoto/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;"],"sourceRoot":""}