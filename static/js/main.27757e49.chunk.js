(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[1],{138:function(e,t,n){e.exports={pages:"Pagination_pages__3ksA0",page:"Pagination_page__1iloC",pageSelected:"Pagination_pageSelected__EFH4Z"}},155:function(e,t,n){e.exports={divPreloader:"Preloader_divPreloader__3iYxB"}},158:function(e,t,n){e.exports={dialog:"Dialog_dialog__3izJD",active:"Dialog_active__1j-Og",avatar:"Dialog_avatar__1n0LU"}},161:function(e,t,n){e.exports={message:"Message_message__xSb92",messageFromUser:"Message_messageFromUser__1rJud",yourMessage:"Message_yourMessage__675tD"}},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h}));var a=n(17),r=n.n(a),c=n(24),u=n(60),s=n(6),o=n(59),i=n(23),l="SN/PROFILE/SET-PROFILE",f="SN/PROFILE/POST-FORM-newPostText",m={postsData:[{id:1,message:"Hello",likes:15},{id:2,message:"Bonjour",likes:30},{id:3,message:"\u041f\u0440\u0438\u0432\u0435\u0442",likes:15e3}],profile:null,status:"no status"},d={setProfile:function(e){return{type:l,profile:e}},updateStatusAC:function(e){return{type:"SN/PROFILE/SET-STATUS",status:e}},postForm:function(e){return{type:f,content:e}},uploadPhoto:function(e){return{type:"SN/PROFILE/UPLOAD-PHOTO",image:e}}},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.showProfile(e);case 2:a=t.sent,n(d.setProfile(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.updateStatus(e);case 2:t.sent.resultCode===i.a.Success&&n(d.updateStatusAC(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.getStatus(e);case 2:a=t.sent,n(d.updateStatusAC(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.uploadPhoto(e);case 2:(a=t.sent).resultCode===i.a.Success&&n(d.uploadPhoto(a.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e.updateProfile(e);case 2:if(0!==(c=t.sent).resultCode){t.next=7;break}n(p(a().authMe.id)),t.next=10;break;case 7:if(!(c.messages.length>0)){t.next=10;break}return n(Object(o.b)("editProfile",{_error:c.messages})),t.abrupt("return",Promise.reject(c.messages));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n={id:5,message:t.content,likes:0};return Object(s.a)(Object(s.a)({},e),{},{postsData:[].concat(Object(u.a)(e.postsData),[n])});case l:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SN/PROFILE/UPLOAD-PHOTO":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.image})});case"SN/PROFILE/SET-STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});default:return e}}},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),c=n(15),u=n(26),s=n(55),o=function(e){return function(t){return Object(c.d)(s.b)?r.a.createElement(e,t):r.a.createElement(u.a,{to:"/login"})}}},204:function(e,t,n){e.exports=n.p+"static/media/preloader.c04e3ad7.svg"},207:function(e,t,n){e.exports={logo:"Header_logo__3b1l2",name:"Header_name__wsK4x",header:"Header_header__10dxk",loginPhrase:"Header_loginPhrase__3mCng",userLogin:"Header_userLogin__230Sn",logIn:"Header_logIn__IbfsR"}},215:function(e,t,n){e.exports={starter:"Login_starter__1tZcA"}},218:function(e,t,n){e.exports=n.p+"static/media/zorro.097a33ad.jpg"},23:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return a}));var a,r=n(205),c=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"30bffa88-490b-405c-83b6-e6b58d235873"}}),u={getUsers:function(e,t,n,a){return c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n).concat(null===a?"":"&friend="+a)).then((function(e){return e.data}))},changeCurPage:function(e,t){return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unFollowDeleteRequest:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},followPostRequest:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))}},s={isAuthMe:function(){return c.get("auth/me").then((function(e){return e.data}))},isLogin:function(e){return c.post("auth/login",{email:e.login,password:e.password,rememberMe:e.checkbox,captcha:e.symbols}).then((function(e){return e.data}))},isLogout:function(){return c.delete("auth/login").then((function(e){return e.data}))}},o={showProfile:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return c.put("/profile/status",{status:e}).then((function(e){return e.data}))},getStatus:function(e){return c.get("/profile/status/".concat(e)).then((function(e){return e.data}))},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),c.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},updateProfile:function(e){return c.put("/profile",e).then((function(e){return e.data}))}},i={getCaptchaURL:function(){return c.get("/security/get-captcha-url").then((function(e){return e.data}))}},l={getAlldialogs:function(){return c.get("/dialogs").then((function(e){return e.data}))},startChat:function(e){return c.put("/dialogs/".concat(e)).then((function(e){return e.data}))},selectChat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c.get("dialogs/".concat(e,"/messages?count=20&page=").concat(t)).then((function(e){return e.data}))},sendMessageToUser:function(e,t){return c.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},deleteMessage:function(e){return c.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))}};!function(e){e[e.Success=0]="Success",e[e.Error=10]="Error"}(a||(a={}))},249:function(e,t,n){e.exports=n(389)},257:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),u=n.n(c),s=n(15),o=n(34),i=n(26),l=(n(257),n(71)),f=n(70),m=n(394),d=n(59),p=n(57),g=n(41),E=function(e){return e.messagesPage},b=Object(g.a)(E,(function(e){return e.messagesData})),h=Object(g.a)(E,(function(e){return e.dialogsUsersData})),O=Object(g.a)(E,(function(e){return e.selectedUserId})),S=Object(g.a)(E,(function(e){return e.isFetching})),v=n(175),j=n(158),_=n.n(j),y=function(e){var t=e.user,n=(t.id,Object(s.c)()),a=Object(i.g)();return r.a.createElement("div",{onClick:function(){return e=t.id,n(Object(p.d)(e)),void a.push({pathname:"/dialogs/".concat(e,"/messages")});var e},className:_.a.dialog},r.a.createElement("span",null,r.a.createElement("img",{className:_.a.avatar,src:t.photos.small?t.photos.small:"https://eitrawmaterials.eu/wp-content/uploads/2016/09/person-icon.png",alt:"ava"})),r.a.createElement("div",null,t.userName))},w=n(91),N=n.n(w),x=n(81),P=n(74),k=n(199),M=n(200),C=Object(M.a)({form:"sendMessage"})((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(k.a,{name:"newMessageText",type:"text",validate:[P.b],component:x.a}),r.a.createElement("button",{type:"submit",className:N.a.sendMessage},"send")))})),A=(Object(P.a)(10),n(73)),U=n(161),I=n.n(U),D=n(4),T=n.n(D),F=n(55),L=function(e){var t,n=e.message,a=Object(s.d)(F.a),c=Object(s.c)();return r.a.createElement("div",{className:T()((t={},Object(A.a)(t,I.a.messageFromUser,n.recipientId===a),Object(A.a)(t,I.a.yourMessage,n.recipientId!==a),t)),onMouseUp:function(e){return function(e,t){0===e.button&&c(Object(p.b)(t))}(e,n.id)}},n.body)},R=Object(v.a)((function(e){Object(a.useEffect)((function(){i(Object(p.c)())}),[]);var t=Object(s.d)(h),n=Object(s.d)(b),c=n.length,u=Object(s.d)(O),o=Object(s.d)(S),i=Object(s.c)(),g=Object(a.useState)(1),E=Object(f.a)(g,2),v=E[0],j=E[1],_=Object(a.useState)(c),w=Object(f.a)(_,2),x=w[0],P=w[1],k=t.map((function(e){return r.a.createElement(y,{key:e.id,user:e})})),M=n.map((function(e){return r.a.createElement(L,{key:e.id,message:e})}));return o?r.a.createElement(l.a,null):r.a.createElement("div",{className:N.a.dialogs},o&&r.a.createElement(l.a,null),r.a.createElement("div",{className:N.a.dialogsItems},k),r.a.createElement("div",{className:N.a.messages},0!==u&&0!==M.length&&r.a.createElement(m.a,{onClick:function(){P(c),i(Object(p.e)(u,v+1)),j(v+1)}},"Load more"),0!==u&&0!==M.length&&M.length===x&&r.a.createElement("div",null,"You don`t have more messages"),M),r.a.createElement(C,{onSubmit:function(e,t){i(Object(p.f)(u,e.newMessageText)),t(Object(d.a)("sendMessage"))}}))})),G=n(17),H=n.n(G),z=n(24),B=n(6),W=n(23),Z="SN/AUTHME/IS-AUTH-ME",q="SN/AUTHME/CAPTCHA-SUCCESS",K={id:null,login:null,email:null,isAuthMe:!1,checkbox:!1,captcha:null},Y=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.b.isAuthMe();case 2:n=e.sent,t(X.setUserData(Object(B.a)({},n.data))),n.resultCode===W.a.Success&&t(X.setAuthMe(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.d.getCaptchaURL();case 2:n=e.sent,t(X.setCaptcha(n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTHME/SET-USER-DATA":return Object(B.a)(Object(B.a)({},e),t.data);case Z:return Object(B.a)(Object(B.a)({},e),{},{isAuthMe:t.isAuthMe});case q:return Object(B.a)(Object(B.a)({},e),{},{captcha:t.captcha});default:return e}},X={setUserData:function(e){var t=e.id,n=e.login,a=e.email,r=e.isAuthMe,c=e.captcha;return{type:"SN/AUTHME/SET-USER-DATA",data:{id:t,login:n,email:a,isAuthMe:r,captcha:void 0===c?null:c}}},setAuthMe:function(e){return{type:Z,isAuthMe:e}},setCaptcha:function(e){return{type:q,captcha:e}}},V=n(207),$=n.n(V),ee=n(392),te=n(396),ne=n(397),ae=n(393),re=function(){var e=Object(s.d)(F.b),t=Object(s.c)(),n=Object(a.useCallback)((function(){return t(function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.b.isLogout();case 2:0===(n=e.sent).resultCode&&t(X.setAuthMe(!1)),t(X.setUserData(Object(B.a)({},n.data)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),c=ee.a.Header,u=(ae.a.Title,ae.a.Text);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,{className:"site-layout-background"},r.a.createElement(te.a,null,r.a.createElement(ne.a,{span:20},r.a.createElement(u,{type:"warning",className:$.a.name},"HellDream")),r.a.createElement(ne.a,{span:4},e?r.a.createElement(m.a,{onClick:n},"Log Out"):r.a.createElement(m.a,null,r.a.createElement(o.b,{to:"login/"},"Log In"))))))},ce=n(215),ue=n.n(ce),se=n(99),oe=n.n(se),ie=Object(P.a)(30),le=Object(M.a)({form:"login"})((function(e){var t=Object(s.d)(F.c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(k.a,{name:"login",component:x.a,type:"text",placeholder:"login",validate:[P.b,ie]})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"password",component:x.a,type:"text",placeholder:"password",validate:[P.b,ie]})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"checkbox",component:"input",type:"checkbox"}),"Remember Me"),e.error&&r.a.createElement("div",{className:oe.a.commonError}," ",e.error," "),t&&r.a.createElement("div",null,r.a.createElement("img",{src:t}),r.a.createElement(k.a,{name:"symbols",component:x.a,type:"text",placeholder:"symbols"})," "),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))})),fe=function(){var e=Object(s.d)(F.b),t=Object(s.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ue.a.starter},"LOGIN"),e?r.a.createElement("div",null,"You are login successfully"):r.a.createElement(le,{onSubmit:function(e){var n;t((n=e,function(){var e=Object(z.a)(H.a.mark((function e(t){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.b.isLogin(n);case 2:0===(a=e.sent).resultCode?t(Y()):(10===a.resultCode&&t(J()),r=a.messages.length>0?a.messages[0]:"Some errors",t(Object(d.b)("login",{_error:r})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}))},me=function(){return r.a.createElement("div",null,"Music")},de=Object(g.a)((function(e){return e.sideBar}),(function(e){return e.friendsList})),pe=n(398),ge=n(399),Ee=n(400),be=n(395),he=function(){var e=ee.a.Sider,t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],u=n[1],i=be.a.SubMenu;Object(s.d)(de);return r.a.createElement(e,{collapsible:!0,collapsed:c,onCollapse:function(e){u(e)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(be.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(be.a.Item,{key:"1",icon:r.a.createElement(pe.a,null),style:{margin:"0"}},"Starter Page"),r.a.createElement(i,{key:"sub1",icon:r.a.createElement(ge.a,null),title:"Profile"},r.a.createElement(be.a.Item,{key:"2"},r.a.createElement(o.b,{to:"/profile"},"My Profile")),r.a.createElement(be.a.Item,{key:"3"},r.a.createElement(o.b,{to:"/music"},"Music"))),r.a.createElement(i,{key:"sub2",icon:r.a.createElement(ge.a,null),title:"Chats"},r.a.createElement(be.a.Item,{key:"4",icon:r.a.createElement(pe.a,null)},r.a.createElement(o.b,{to:"/dialogs"},"Personal Messages")),r.a.createElement(be.a.Item,{key:"5",icon:r.a.createElement(pe.a,null)},r.a.createElement(o.b,{to:"/publicchat"},"Public Chat"))),r.a.createElement(be.a.Item,{key:"6",icon:r.a.createElement(pe.a,null)},r.a.createElement(o.b,{to:"/users"},"Users")),r.a.createElement(be.a.Item,{key:"7",icon:r.a.createElement(Ee.a,null)},r.a.createElement(o.b,{to:"/news"},"News")),r.a.createElement(be.a.Item,{key:"8",icon:r.a.createElement(Ee.a,null)},r.a.createElement(o.b,{to:"/settings"},"Settings"))))};function Oe(){return r.a.createElement("a",{href:"#",onClick:function(){console.log("\u041f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438.")}},"\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043c\u0435\u043d\u044f")}var Se=function(){return r.a.createElement("div",null,r.a.createElement(Oe,null))},ve=function(){return r.a.createElement("div",null,"Settings")},je=n(60),_e="SN/USERS/FOLLOW",ye="SN/USERS/UNFOLLOW",we="SN/USERS/SETUSERS",Ne="SN/USERS/CURPAGE",xe="SN/USERS/SET-FILTER-FOR-USERS",Pe={usersData:[],currentPage:1,pageSize:90,totalCount:10,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},ke=function(e){return{type:ye,id:e}},Me=function(e){return{type:_e,id:e}},Ce=function(e){return{type:we,usersData:e}},Ae=function(e){return{type:Ne,currentPage:e}},Ue=function(e){return{type:"SN/USERS/TOTALCOUNT",totalCount:e}},Ie=function(e){return{type:xe,filter:e}},De=function(e){return{type:"SN/USERS/TOGGLEIF",isFetching:e}},Te=function(e,t){return{type:"SN/USERS/FOLISFETCH",followingTF:e,userId:t}},Fe=function(e,t,n){return function(){var a=Object(z.a)(H.a.mark((function a(r){var c;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(De(!0)),r(Ie(n)),a.next=4,W.f.getUsers(e,t,n.term,n.friend);case 4:c=a.sent,r(De(!1)),r(Ce(c.items)),r(Ue(c.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(B.a)(Object(B.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(B.a)(Object(B.a)({},e),{},{followed:!0}):e}))});case ye:return Object(B.a)(Object(B.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(B.a)(Object(B.a)({},e),{},{followed:!1}):e}))});case we:return Object(B.a)(Object(B.a)({},e),{},{usersData:Object(je.a)(t.usersData)});case Ne:return Object(B.a)(Object(B.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/TOTALCOUNT":return Object(B.a)(Object(B.a)({},e),{},{totalCount:t.totalCount});case xe:return Object(B.a)(Object(B.a)({},e),{},{filter:t.filter});case"SN/USERS/TOGGLEIF":return Object(B.a)(Object(B.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/FOLISFETCH":var n=Object(B.a)(Object(B.a)({},e),{},{followingInProgress:Object(je.a)(e.followingInProgress)});return t.followingTF?n.followingInProgress.push(t.userId):n.followingInProgress=n.followingInProgress.filter((function(e){return e!==t.userId})),n;default:return e}},Re=function(e){return e.usersPage},Ge=Object(g.a)(Re,(function(e){return e.usersData})),He=Object(g.a)(Re,(function(e){return e.currentPage})),ze=Object(g.a)(Re,(function(e){return e.totalCount})),Be=Object(g.a)(Re,(function(e){return e.pageSize})),We=Object(g.a)(Re,(function(e){return e.isFetching})),Ze=Object(g.a)(Re,(function(e){return e.followingInProgress})),qe=Object(g.a)(Re,(function(e){return e.filter})),Ke=n(138),Ye=n.n(Ke),Je=function(e){for(var t=Object(s.d)(ze),n=Math.ceil(t/e.pageSize),c=[],u=1;u<=n;u++)c.push(u);var o=Object(a.useState)(1),i=Object(f.a)(o,2),l=i[0],m=i[1],d=Math.ceil(n/5),p=5*(l-1)+1,g=5*l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:T()(Ye.a.pages)},l>1&&r.a.createElement("button",{onClick:function(){return m(l-1)}},"minus"),c.filter((function(e){return e>=p&&e<=g})).map((function(t){return r.a.createElement("span",{onClick:function(){e.changeCurPage(t)},className:T()(Object(A.a)({},Ye.a.pageSelected||Ye.a.page,e.currentPage===t)),key:t},t," ")})),d>l&&r.a.createElement("button",{onClick:function(){return m(l+1)}},"plus")))},Qe=n(93),Xe=n.n(Qe),Ve=n(110),$e=function(e){var t=Object(s.d)(qe);return r.a.createElement("div",null,"Search for your friends)",r.a.createElement("div",null,r.a.createElement(Ve.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},onSubmit:function(t,n){var a=n.setSubmitting,r=Object(B.a)(Object(B.a)({},t),{},{friend:"null"===t.friend?null:"true"===t.friend||"false"===t.friend&&!1});e.onFilterChange(r),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(Ve.b,null,r.a.createElement(Ve.a,{type:"text",name:"term"}),r.a.createElement(Ve.a,{name:"friend",as:"select"},r.a.createElement("option",{value:"null"},"All"),r.a.createElement("option",{value:"true"},"Only followed"),r.a.createElement("option",{value:"false"},"Only unfollowed")),r.a.createElement("button",{type:"submit",disabled:t},"Find"))}))))},et=n(218),tt=n.n(et),nt=n(52),at=n.n(nt),rt=function(e){var t=Object(s.c)(),n=Object(s.d)(Ze);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:at.a.userItem},r.a.createElement(o.c,{to:"profile/"+e.user.id},r.a.createElement("img",{className:at.a.avatar,src:null!=e.user.photos.small?e.user.photos.small:tt.a,alt:"ava"})),r.a.createElement("div",{className:at.a.country},e.user.id%3===0?r.a.createElement("div",{className:at.a.off},"offline"):r.a.createElement("div",{className:at.a.on},"online")),r.a.createElement("div",{className:at.a.name},e.user.name),r.a.createElement("div",{className:at.a.stars}),r.a.createElement("div",{className:at.a.lastMessage},e.user.status?"status: "+e.user.status:"----"),r.a.createElement("div",null,e.user.followed?r.a.createElement("button",{disabled:n.some((function(t){return t===e.user.id})),onClick:function(){var n;t((n=e.user.id,function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Te(!0,n)),e.next=3,W.f.unFollowDeleteRequest(n);case 3:0===e.sent.resultCode&&t(ke(n)),t(Te(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:at.a.statusFollow},"UNFOLLOW"):r.a.createElement("button",{disabled:n.some((function(t){return t===e.user.id})),onClick:function(){var n;t((n=e.user.id,function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Te(!0,n)),e.next=3,W.f.followPostRequest(n);case 3:0===e.sent.resultCode&&t(Me(n)),t(Te(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:at.a.statusFollow},"FOLLOW"))))},ct=function(e){var t=Object(s.d)(Ge);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Xe.a.usersItem},t.map((function(e){return r.a.createElement(rt,{key:e.id,user:e})}))))},ut=n(374),st=function(e){var t=Object(s.d)(We),n=Object(s.d)(qe),c=Object(s.d)(Be),u=Object(s.d)(He),o=Object(s.c)(),f=Object(i.g)(),m=function(e){o(Fe(u,c,e))};return Object(a.useEffect)((function(){var e=ut.parse(f.location.search.substr(1)),t=u,n={term:"",friend:null};switch(e.page&&(t=Number(e.page)),e.term&&(n=Object(B.a)(Object(B.a)({},n),{},{term:e.term})),e.friend){case"null":n=Object(B.a)(Object(B.a)({},n),{},{friend:null});break;case"true":n=Object(B.a)(Object(B.a)({},n),{},{friend:!0});break;case"false":n=Object(B.a)(Object(B.a)({},n),{},{friend:!1})}o(Fe(t,c,n))}),[]),Object(a.useEffect)((function(){var e={};n.term&&(e.term=n.term),null!==n.friend&&(e.friend=String(n.friend)),1!==u&&(e.page=String(u)),f.push({pathname:"/users",search:ut.stringify(e)})}),[n,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Xe.a.userPage},"Choose your friends",t&&r.a.createElement("span",{className:Xe.a.preloader},r.a.createElement(l.a,null))),r.a.createElement("div",null,r.a.createElement($e,{onFilterChange:m})),r.a.createElement("div",{className:Xe.a.pagination},r.a.createElement(Je,{changeCurPage:function(e){o(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ae(e)),a(De(!0)),n.next=4,W.f.changeCurPage(e,t);case 4:r=n.sent,a(De(!1)),a(Ce(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,c))},pageSize:c,currentPage:u})," "),!t&&r.a.createElement(ct,{onFilterChange:m,filter:n}))},ot="SN/APP/SET-INITIALIZE",it={initialized:!1},lt=function(){return{type:ot}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return Object(B.a)(Object(B.a)({},e),{},{initialized:!0});default:return e}},mt=(n(387),r.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,492))}))),dt=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,493))})),pt=function(){var e=Object(i.h)();return r.a.createElement("div",null,"/"===e.pathname?r.a.createElement("div",null,"StarterPage"):r.a.createElement("div",null,"No match"))},gt=Object(i.i)(r.a.memo((function(e){var t=Object(s.d)((function(e){return e.appInit.initialized})),n=Object(s.c)(),c=function(e){alert("Some error occured")};Object(a.useEffect)((function(){return n(function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Y());case 2:t(lt());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("unhandledrejection",c),window.removeEventListener("unhandledrejection",c)}),[]);var u=ee.a.Content,o=ee.a.Footer;return t?r.a.createElement(ee.a,{style:{minHeight:"100vh"}},r.a.createElement(re,null),r.a.createElement(ee.a,{className:"site-layout"},r.a.createElement(he,null),r.a.createElement(u,{style:{margin:"0 16px"}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/dialogs",render:function(){return r.a.createElement(R,null)}}),r.a.createElement(i.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("h1",null,"Still Loading\u2026")}," ",r.a.createElement(mt,null)," ")}}),r.a.createElement(i.b,{path:"/news",render:Se}),r.a.createElement(i.b,{path:"/music",render:me}),r.a.createElement(i.b,{path:"/publicchat",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("h1",null,"Still Loading\u2026")},r.a.createElement(dt,null))}}),r.a.createElement(i.b,{path:"/settings",render:ve}),r.a.createElement(i.b,{path:"/users",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(i.b,{path:"*",render:function(){return r.a.createElement(pt,null)}}))))),r.a.createElement(o,{style:{textAlign:"center"}},"Hell dream \xa92020 Created by noirkotyara")):r.a.createElement(l.a,null)}))),Et=(n(388),n(163)),bt={friendsList:[{id:1,name:"Zorro"},{id:2,name:"Lyubov"},{id:3,name:"Kuscherenko"}]},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return e},Ot=n(219),St=n(202),vt=n(220),jt=n(31),_t=jt.createStore,yt=jt.combineReducers,wt=jt.applyMiddleware,Nt=_t(yt({profilePage:Et.b,messagesPage:p.a,sideBar:ht,usersPage:Le,authMe:Q,appInit:ft,form:St.a}),Object(vt.composeWithDevTools)(wt(Ot.a)));window.store=Nt;var xt=Nt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(s.a,{store:xt},r.a.createElement(o.a,null,r.a.createElement(gt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){e.exports={userItem:"User_userItem__4zQnk",avatar:"User_avatar__39gSA",lastMessage:"User_lastMessage__1hlgj",name:"User_name__2R3Cl",off:"User_off__XjvUl",on:"User_on__1XQfw",country:"User_country__2T7Tr",stars:"User_stars__3aZm4"}},55:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=function(e){return e.authMe.captcha},r=function(e){return e.authMe.isAuthMe},c=function(e){return e.authMe.id}},57:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return _}));var a=n(17),r=n.n(a),c=n(24),u=n(60),s=n(6),o=n(23),i="SN/MESSAGES/SET-IS-FETCHING",l="SN/MESSAGES/DELETE-MESSAGES",f={messagesData:[],dialogsUsersData:[],selectedUserId:0,isFetching:!1},m=function(e){return{type:"SN/MESSAGES/ADD-MESSAGE-STATE",newMessage:e}},d=function(e){return{type:"SN/MESSAGES/ADD-DIALOGS-USERS",users:e}},p=function(e,t){return{type:"SN/MESSAGES/SET-SELECTED-MESSAGES",messagesData:e,userId:t}},g=function(){return{type:i}},E=function(e){return{type:"SN/MESSAGES/SET-MORE-MESSAGES",messagesData:e}},b=function(e){return{type:l,id:e}},h=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g()),e.next=3,o.c.getAlldialogs();case 3:n=e.sent,t(d(n)),t(g());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.startChat(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g()),t.next=3,o.c.selectChat(e);case 3:null==(a=t.sent).error&&(n(p(a.items,e)),n(g()));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(g()),n.next=3,o.c.sendMessageToUser(e,t);case 3:(c=n.sent).resultCode===o.a.Success&&(a(m(c.data.message)),a(g()));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(g()),n.next=3,o.c.selectChat(e,t);case 3:null===(c=n.sent).error&&(a(E(c.items)),a(g()));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g()),t.next=3,o.c.deleteMessage(e);case 3:t.sent.resultCode===o.a.Success&&(n(b(e)),n(g()));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/MESSAGES/ADD-MESSAGE-STATE":return Object(s.a)(Object(s.a)({},e),{},{messagesData:[].concat(Object(u.a)(e.messagesData),[t.newMessage])});case"SN/MESSAGES/SET-SELECTED-MESSAGES":return Object(s.a)(Object(s.a)({},e),{},{messagesData:t.messagesData,selectedUserId:t.userId});case"SN/MESSAGES/ADD-DIALOGS-USERS":return Object(s.a)(Object(s.a)({},e),{},{dialogsUsersData:t.users});case i:return Object(s.a)(Object(s.a)({},e),{},{isFetching:!e.isFetching});case"SN/MESSAGES/SET-MORE-MESSAGES":return Object(s.a)(Object(s.a)({},e),{},{messagesData:[].concat(Object(u.a)(t.messagesData),Object(u.a)(e.messagesData))});case l:return Object(s.a)(Object(s.a)({},e),{},{messagesData:e.messagesData.filter((function(e){return e.id!==t.id}))});default:return e}}},71:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(204),u=n.n(c),s=n(155),o=n.n(s);t.a=function(){return r.a.createElement("div",{className:o.a.divPreloader},r.a.createElement("img",{className:o.a.preloader,src:u.a,alt:"preloader"}))}},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length<e?void 0:"".concat(e," is reached")}}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),c=n(99),u=n.n(c),s=function(e){var t=e.input,n=e.meta,a=e.placeholder;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.error&&n.visited&&!n.active&&u.a.error},r.a.createElement("input",Object.assign({},t,{placeholder:a}))),r.a.createElement("span",{className:u.a.messageError},n.visited&&!n.active&&n.error))}},91:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2BwxY",dialogsItems:"Dialogs_dialogsItems__5NlB3",dialog:"Dialogs_dialog__39fd-",message:"Dialogs_message__cuXq7",active:"Dialogs_active__17luP"}},93:function(e,t,n){e.exports={userPage:"Users_userPage__3pdtU",butGET:"Users_butGET__3mBVF",preloader:"Users_preloader__3ube4",pagination:"Users_pagination__1ZtKZ"}},99:function(e,t,n){e.exports={error:"InputChecker_error__3bOFz",messageError:"InputChecker_messageError__2L7eE",commonError:"InputChecker_commonError__15Qry"}}},[[249,2,3]]]);
//# sourceMappingURL=main.27757e49.chunk.js.map