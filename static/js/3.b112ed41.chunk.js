(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[3],{303:function(e,t,a){e.exports={description:"ProfileInfo_description__3GDnK",contacts:"ProfileInfo_contacts__37vHF",socialIcon:"ProfileInfo_socialIcon__GBk5o",editData:"ProfileInfo_editData__3bG9g"}},304:function(e,t,a){e.exports={addPost:"MyPosts_addPost__1exZM"}},305:function(e,t,a){e.exports={item:"Post_item__2DfE4"}},306:function(e,t,a){},307:function(e,t,a){e.exports=a.p+"static/media/av.3322ac59.jpg"},308:function(e,t,a){e.exports=a.p+"static/media/sad.f356e41d.png"},309:function(e,t,a){e.exports=a.p+"static/media/happy.ed41fce9.png"},310:function(e,t,a){e.exports={editionVersion:"ProfileStatus_editionVersion__34QJ5",status:"ProfileStatus_status__PRDP4",readyStatus:"ProfileStatus_readyStatus__1-qBM"}},311:function(e,t,a){"use strict";a.r(t);var n=a(40),o=a(41),r=a(44),c=a(43),s=a(0),i=a.n(s),l=a(12),u=a(10),m=a(9),p=a(103),f=a(68),d=a(134),v=a(135),g=a(136),h=a(42),E=a(34),b=a(304),w=a.n(b),P=a(305),k=a.n(P),j=function(e){return i.a.createElement("div",{className:k.a.item},i.a.createElement("img",{src:"https://static.tildacdn.com/tild3538-3762-4936-b162-656163363764/Icon.png",alt:"avatar"}),i.a.createElement("span",null,e.message),i.a.createElement("div",null,i.a.createElement("div",null,"Likes --\x3e ",e.likes)))},y=Object(E.a)(20),O=Object(g.a)({form:"post"})((function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement(v.a,{component:h.a,name:"newPostText",type:"text",validate:[E.b,y],placeholder:"Write your post here..."}),i.a.createElement("button",{type:"submit",className:w.a.addPost},"Add post")))})),_=function(e){var t=e.postsGenerate.map((function(e){return i.a.createElement(j,{key:e.id,message:e.message,likes:e.likes})}));return i.a.createElement("div",null,i.a.createElement(O,Object.assign({},e,{onSubmit:function(t){e.postForm(t.newPostText)}})),i.a.createElement("div",{className:w.a.posts},t))},S=Object(l.b)((function(e){return{postsGenerate:e.profilePage.postsData}}),{postForm:p.a.postForm})(_),x=a(306),D=a.n(x),N=a(102),F=a(303),I=a.n(F),A=a(307),M=a.n(A),C={facebook:"https://www.flaticon.com/svg/static/icons/svg/2111/2111393.svg",website:"https://www.flaticon.com/svg/static/icons/svg/2847/2847798.svg",vk:"https://www.flaticon.com/svg/static/icons/svg/2111/2111712.svg",twitter:"https://www.flaticon.com/svg/static/icons/svg/733/733579.svg",instagram:"https://www.flaticon.com/svg/static/icons/svg/174/174855.svg",youtube:"https://www.flaticon.com/svg/static/icons/svg/1384/1384060.svg",github:"https://www.flaticon.com/svg/static/icons/svg/733/733553.svg",mainLink:"https://www.flaticon.com/svg/static/icons/svg/2111/2111644.svg"},J=function(e){var t,a=e.property,n=e.value;return Object.keys(C).forEach((function(e){e===a&&(t=C[e])})),i.a.createElement(i.a.Fragment,null,n&&i.a.createElement("span",null,i.a.createElement("a",{href:n},i.a.createElement("img",{className:I.a.socialIcon,src:t,alt:""}))))},z=a(53),G=a.n(z),U=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return i.a.createElement(v.a,{name:e,component:t,type:a,placeholder:e,validate:n})},B=Object(g.a)({form:"editProfile",enableReinitialize:!0})((function(e){var t=Object.keys(e.profileData.contacts).map((function(e){return i.a.createElement("div",{key:e},U("contacts."+e,h.a,"text"))}));return i.a.createElement("form",{onSubmit:e.handleSubmit,className:I.a.editData},i.a.createElement("div",null,e.error&&i.a.createElement("div",{className:G.a.commonError}," ",e.error," ")),i.a.createElement("div",null,"Here is our form for editing"),i.a.createElement("div",null," Your full name: ",U("fullName",h.a,"text")," "),i.a.createElement("div",null," About me: ",U("aboutMe",h.a,"text")," "),i.a.createElement("div",null," ",U("lookingForAJob","input","checkbox")," Looking for a job?"),i.a.createElement("div",null," Description: ",U("lookingForAJobDescription",h.a,"text")," "),i.a.createElement("div",null," Contacts: ",t," "),i.a.createElement("button",null,"Save changes"))})),V=a(308),L=a.n(V),H=a(309),R=a.n(H),T=a(26),q=function(e){var t=e.owner,a=e.profileData,n=e.updateProfile,o=Object(s.useState)(!1),r=Object(N.a)(o,2),c=r[0],l=r[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,c&&t?i.a.createElement(B,{initialValues:a,profileData:a,onSubmit:function(e,t){n(e).then((function(){return l(!1)})),t(Object(T.a)("editProfile"))}}):t&&i.a.createElement("div",null,i.a.createElement("button",{className:I.a.editButton,onClick:function(){return l(!0)}},"Edit Profile"),i.a.createElement("div",{className:I.a.fullname},a.fullName),i.a.createElement("div",{className:I.a.aboutMe},a.aboutMe),i.a.createElement("div",{className:I.a.contacts},Object.keys(a.contacts).map((function(e){return i.a.createElement(J,{key:e,property:e,value:a.contacts[e]})}))),i.a.createElement("div",null,"lookingForAJob:  ",i.a.createElement("img",{src:a.lookingForAJob?R.a:L.a,style:{width:"50px",height:"50px"},alt:""})," "),i.a.createElement("div",null,"Description: ",a.lookingForAJobDescription))))},K=i.a.memo((function(e){var t=e.checkedAuth,a=e.profileData,n=e.uploadPhoto,o=e.userId,r=e.updateProfile,c=Object(s.useState)(!1),l=Object(N.a)(c,2),u=l[0],m=l[1],p=Object(s.useState)(""),d=Object(N.a)(p,2),v=d[0],g=d[1];if(!a)return i.a.createElement(f.a,null);return i.a.createElement("div",{className:I.a.content},i.a.createElement("div",{className:I.a.description},!u||t!==o&&o?i.a.createElement("img",{style:{width:"100px",height:"100px"},src:a.photos.small?a.photos.small:M.a,alt:"avatar",onDoubleClick:function(){m(!0)}}):i.a.createElement("div",null,i.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){return function(e){e.target.files&&e.target.files.length&&g(e.target.files[0])}(e)}}),i.a.createElement("input",{onClick:function(){n(v),m(!1)},type:"button",value:"Upload"})),i.a.createElement(q,{owner:t===o||!o,profileData:a,updateProfile:r})))})),Q=a(310),W=a.n(Q),Y=function(e){var t=Object(s.useState)(!1),a=Object(N.a)(t,2),n=a[0],o=a[1],r=Object(s.useState)(e.status),c=Object(N.a)(r,2),l=c[0],u=c[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement("div",{className:W.a.content},i.a.createElement("span",{className:W.a.status},"Status:"),n?i.a.createElement("div",{className:W.a.editionVersion},i.a.createElement("input",{onBlur:function(){o(!1),e.updateStatus(l)},autoFocus:!0,type:"text",value:l,onChange:function(e){return u(e.target.value)}})):i.a.createElement("div",null,i.a.createElement("span",{className:W.a.readyStatus,onDoubleClick:function(){return!e.match.params.userId&&o(!0)}},e.status||"---------")))},Z=function(e){return i.a.createElement("div",{className:D.a.content},i.a.createElement(K,Object.assign({profileData:e.profile,userId:+e.match.params.userId,checkedAuth:e.authorizedUser},e)),i.a.createElement(Y,e),i.a.createElement(S,e))},X=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=+e.props.match.params.userId;if(!t&&!(t=e.props.authorizedUser))return i.a.createElement(f.a,null);e.props.setProfile(t),e.props.getStatus(t)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(Z,this.props)}}]),a}(i.a.Component);t.default=Object(m.compose)(u.h,Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUser:e.authMe.id,authorized:e.authMe.isAuthMe}}),{setProfile:p.d,updateStatus:p.e,getStatus:p.c,postForm:p.a.postForm,uploadPhoto:p.g,updateProfile:p.f}),Object(l.b)((function(e){return{isAuthMe:e.authMe.isAuthMe}}),{}),d.a)(X)}}]);
//# sourceMappingURL=3.b112ed41.chunk.js.map